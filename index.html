<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ…§è¯Šé—´ - åŒ»ç”Ÿæ³¨å†Œä¸é¡¹ç›®ç®¡ç†å¹³å°ï¼ˆæµç¨‹ç‰ˆ2ï¼‰</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "PingFang SC",
          "Microsoft YaHei", system-ui, sans-serif;
        background: #f5f5f5;
        color: #333;
        overflow-x: hidden;
      }
      /* é¡¶éƒ¨å¯¼èˆªæ  */
      .top-header {
        background: #ffffff;
        border-bottom: 1px solid #e5e7eb;
        padding: 12px 24px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
      }
      .logo-section {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .logo-icon {
        width: 32px;
        height: 32px;
        background: #dc2626;
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 18px;
      }
      .logo-text {
        display: flex;
        flex-direction: column;
      }
      .logo-title {
        font-size: 16px;
        font-weight: 600;
        color: #111827;
      }
      .logo-subtitle {
        font-size: 12px;
        color: #6b7280;
      }
      .top-nav-icons {
        display: flex;
        gap: 20px;
        align-items: center;
      }
      .nav-icon {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: 6px;
        transition: background 0.2s;
      }
      .nav-icon:hover {
        background: #f3f4f6;
      }
      .nav-icon.active {
        color: #dc2626;
      }
      .nav-icon span {
        font-size: 11px;
        color: #6b7280;
      }
      .nav-icon.active span {
        color: #dc2626;
      }
      .icon-circle {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
      }
      .nav-icon.active .icon-circle {
        background: #fee2e2;
        color: #dc2626;
      }
      /* ä¸»å¸ƒå±€ */
      .main-layout {
        display: flex;
        height: calc(100vh - 60px);
      }
      /* å·¦ä¾§å¯¼èˆªæ  */
      .sidebar {
        width: 220px;
        background: #ffffff;
        border-right: 1px solid #e5e7eb;
        padding: 20px 0;
        overflow-y: auto;
      }
      .sidebar-header {
        padding: 0 20px 20px;
        border-bottom: 1px solid #f3f4f6;
        margin-bottom: 20px;
      }
      .sidebar-logo {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 16px;
      }
      .sidebar-logo-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        font-size: 18px;
      }
      .sidebar-nav {
        list-style: none;
        padding: 0 12px;
      }
      .sidebar-nav-item {
        padding: 12px 16px;
        border-radius: 8px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 4px;
        transition: all 0.2s;
        color: #6b7280;
      }
      .sidebar-nav-item:hover {
        background: #f9fafb;
        color: #111827;
      }
      .sidebar-nav-item.active {
        background: #fee2e2;
        color: #dc2626;
        font-weight: 500;
      }
      .nav-icon-symbol {
        width: 20px;
        text-align: center;
        font-size: 18px;
      }
      /* ä¸»å†…å®¹åŒº */
      .main-content {
        flex: 1;
        overflow-y: auto;
        padding: 24px;
        background: #f5f5f5;
      }
      .page {
        display: none;
        max-width: 1200px;
        margin: 0 auto;
      }
      .page.active {
        display: block;
      }
      /* å¡ç‰‡æ ·å¼ */
      .card {
        background: #ffffff;
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .card-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 16px;
        color: #111827;
      }
      /* ç™»å½•æ³¨å†Œé¡µæ•´ä½“èƒŒæ™¯ */
      .login-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        min-height: calc(100vh - 60px);
        padding: 40px 80px;
        background: radial-gradient(circle at 20% 80%, rgba(252, 165, 165, 0.6), transparent 55%),
          radial-gradient(circle at 80% 20%, rgba(254, 202, 202, 0.7), transparent 55%),
          #fff5f7;
      }
      .login-hero {
        flex: 1;
        color: #dc2626;
        padding-left: 40px;
      }
      .login-hero-title {
        font-size: 32px;
        font-weight: 600;
        margin-bottom: 16px;
      }
      .login-hero-subtitle {
        font-size: 22px;
        font-weight: 600;
      }
      .login-panel {
        flex: 0 0 520px;
        display: flex;
        justify-content: flex-end;
      }
      .login-box {
        background: #ffffff;
        border-radius: 16px;
        padding: 24px 28px 20px;
        width: 100%;
        box-shadow: 0 12px 40px rgba(220, 38, 38, 0.18);
      }
      .login-box-inner {
        display: flex;
        gap: 24px;
      }
      .login-left {
        flex: 1.2;
        border-right: 1px solid #f3f4f6;
        padding-right: 16px;
      }
      .login-right {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }
      .wechat-title {
        font-size: 14px;
        font-weight: 600;
        color: #111827;
      }
      .wechat-qr-placeholder {
        width: 140px;
        height: 140px;
        border-radius: 8px;
        border: 1px dashed #d1d5db;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #9ca3af;
        font-size: 13px;
      }
      .wechat-tip {
        font-size: 12px;
        color: #6b7280;
        text-align: center;
        line-height: 1.6;
      }
      .login-tabs {
        display: flex;
        gap: 8px;
        margin-bottom: 24px;
        border-bottom: 2px solid #f3f4f6;
      }
      .login-tab {
        flex: 1;
        padding: 12px;
        text-align: center;
        cursor: pointer;
        color: #6b7280;
        font-size: 14px;
        border-bottom: 2px solid transparent;
        margin-bottom: -2px;
        transition: all 0.2s;
      }
      .login-tab.active {
        color: #dc2626;
        border-bottom-color: #dc2626;
        font-weight: 500;
      }
      /* ç™»å½•è¡¨å•å†…çš„å­æ ‡ç­¾æ ·å¼ */
      #login-form .login-tabs {
        margin-bottom: 20px;
        border-bottom: 1px solid #f3f4f6;
      }
      #login-form .login-tab {
        font-size: 13px;
        padding: 8px;
      }
      .form-group {
        margin-bottom: 20px;
      }
      .form-label {
        display: block;
        margin-bottom: 8px;
        font-size: 14px;
        color: #374151;
        font-weight: 500;
      }
      .form-input {
        width: 100%;
        padding: 12px 16px;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        font-size: 14px;
        transition: all 0.2s;
      }
      .form-input:focus {
        outline: none;
        border-color: #dc2626;
        box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
      }
      .input-group {
        display: flex;
        gap: 8px;
      }
      .input-group .form-input {
        flex: 1;
      }
      .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        display: inline-block;
        text-align: center;
      }
      .btn-primary {
        background: #dc2626;
        color: white;
        width: 100%;
      }
      .btn-primary:hover {
        background: #b91c1c;
      }
      .btn-secondary {
        background: #f3f4f6;
        color: #374151;
      }
      .btn-secondary:hover {
        background: #e5e7eb;
      }
      .btn-action {
        padding: 12px 24px;
        background: #dc2626;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
      }
      .btn-action:hover {
        background: #b91c1c;
      }
      .btn-action.btn-secondary {
        background: #f3f4f6;
        color: #374151;
      }
      .btn-link {
        background: transparent;
        color: #dc2626;
        padding: 8px 12px;
      }
      .agreement {
        font-size: 12px;
        color: #6b7280;
        margin-top: 16px;
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }
      .agreement input[type="checkbox"] {
        margin-top: 2px;
      }
      .agreement a {
        color: #dc2626;
        text-decoration: none;
      }
      /* é¡¹ç›®åˆ—è¡¨é¡µ */
      .project-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      .project-card {
        background: white;
        border-radius: 12px;
        padding: 24px;
        cursor: pointer;
        transition: all 0.2s;
        border: 2px solid transparent;
      }
      .project-card:hover {
        border-color: #dc2626;
        box-shadow: 0 4px 12px rgba(220, 38, 38, 0.15);
      }
      .project-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        background: linear-gradient(135deg, #fecaca 0%, #fb7185 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-bottom: 16px;
      }
      .project-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #111827;
      }
      .project-desc {
        font-size: 13px;
        color: #6b7280;
        line-height: 1.5;
      }
      /* é¡¹ç›®ä»ªè¡¨ç›˜ */
      .status-banner {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border-left: 4px solid #f59e0b;
        padding: 16px 20px;
        border-radius: 8px;
        margin-bottom: 24px;
      }
      .status-banner.approved {
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
        border-left-color: #10b981;
      }
      .status-banner.rejected {
        background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
        border-left-color: #ef4444;
      }
      .status-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
        color: #78350f;
      }
      .status-banner.approved .status-title {
        color: #065f46;
      }
      .status-banner.rejected .status-title {
        color: #991b1b;
      }
      .status-text {
        font-size: 13px;
        color: #92400e;
      }
      .status-banner.approved .status-text {
        color: #047857;
      }
      .status-banner.rejected .status-text {
        color: #b91c1c;
      }
      .action-buttons {
        display: flex;
        gap: 12px;
        margin-top: 24px;
      }
      /* æ¨¡æ€å¼¹çª— */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }
      .modal.active {
        display: flex;
      }
      .modal-content {
        background: white;
        border-radius: 16px;
        padding: 32px;
        max-width: 600px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }
      .modal-title {
        font-size: 20px;
        font-weight: 600;
        color: #111827;
      }
      .modal-close {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        border: none;
        background: #f3f4f6;
        cursor: pointer;
        font-size: 20px;
        color: #6b7280;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .modal-close:hover {
        background: #e5e7eb;
      }
      .upload-area {
        border: 2px dashed #d1d5db;
        border-radius: 12px;
        padding: 40px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        margin-bottom: 16px;
        background: #f9fafb;
      }
      .upload-area:hover {
        border-color: #dc2626;
        background: #fef2f2;
      }
      .upload-icon {
        font-size: 48px;
        color: #9ca3af;
        margin-bottom: 12px;
      }
      .upload-text {
        font-size: 14px;
        color: #6b7280;
        margin-bottom: 8px;
      }
      .upload-hint {
        font-size: 12px;
        color: #9ca3af;
      }
      .example-link {
        color: #dc2626;
        text-decoration: none;
        font-size: 13px;
        margin-left: 8px;
      }
      .example-link:hover {
        text-decoration: underline;
      }
      .modal-footer {
        display: flex;
        gap: 12px;
        justify-content: flex-end;
        margin-top: 24px;
      }
      /* æ¿€åŠ±ç”³é¢†é¡µ */
      .reward-card {
        background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 24px;
      }
      .reward-title {
        font-size: 18px;
        font-weight: 600;
        color: #78350f;
        margin-bottom: 12px;
      }
      .reward-text {
        font-size: 14px;
        color: #92400e;
        line-height: 1.6;
      }
      .reward-notice {
        font-size: 12px;
        color: #6b7280;
        line-height: 1.6;
        margin-top: 16px;
      }
      /* è¡¨å•æ ·å¼å¢å¼º */
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      @media (max-width: 768px) {
        .form-row {
          grid-template-columns: 1fr;
        }
      }
      /* æˆåŠŸæç¤º */
      .success-message {
        background: #d1fae5;
        border: 1px solid #10b981;
        border-radius: 8px;
        padding: 16px;
        margin-bottom: 20px;
        color: #065f46;
        font-size: 14px;
      }
      /* é¡µè„š */
      .footer {
        text-align: center;
        padding: 20px;
        color: #9ca3af;
        font-size: 12px;
        border-top: 1px solid #e5e7eb;
        background: white;
      }
      /* æ¦‚è§ˆç»Ÿè®¡å¡ç‰‡ */
      .overview-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
      }
      .stat-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .stat-label {
        font-size: 14px;
        color: #6b7280;
        margin-bottom: 8px;
      }
      .stat-value {
        font-size: 24px;
        font-weight: 600;
        color: #111827;
      }
      .stat-percentage {
        font-size: 12px;
        color: #6b7280;
        margin-top: 4px;
      }
      /* å›¾è¡¨å®¹å™¨ */
      .chart-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-top: 20px;
      }
      .chart-card {
        background: white;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .chart-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 16px;
        color: #111827;
      }
      .chart-container {
        height: 250px;
        position: relative;
        margin-bottom: 12px;
      }
      .chart-note {
        font-size: 12px;
        color: #6b7280;
        margin-top: 8px;
      }
      /* é¡¹ç›®ä¸»é¡µæ ·å¼ */
      .news-section {
        margin-bottom: 32px;
      }
      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }
      .section-title {
        font-size: 18px;
        font-weight: 600;
        color: #111827;
      }
      .view-more-link {
        font-size: 14px;
        color: #dc2626;
        text-decoration: none;
        cursor: pointer;
      }
      .view-more-link:hover {
        text-decoration: underline;
      }
      .content-grid {
        display: grid;
        grid-template-columns: 200px 200px 1fr;
        gap: 20px;
        margin-bottom: 20px;
      }
      .content-image {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 8px;
      }
      .content-list {
        list-style: none;
        padding: 0;
      }
      .content-list-item {
        padding: 8px 0;
        border-bottom: 1px solid #f3f4f6;
        color: #6b7280;
        font-size: 14px;
        cursor: pointer;
      }
      .content-list-item:hover {
        color: #dc2626;
      }
      .content-list-item:last-child {
        border-bottom: none;
      }
      /* ä¸ªäººä¸­å¿ƒæ ·å¼ */
      .profile-section {
        margin-bottom: 24px;
      }
      .profile-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 16px;
        background: white;
        border-radius: 8px;
        margin-bottom: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .profile-item-label {
        font-size: 14px;
        color: #374151;
        font-weight: 500;
      }
      .profile-item-value {
        font-size: 14px;
        color: #6b7280;
      }
      .profile-item-action {
        color: #dc2626;
        cursor: pointer;
        font-size: 14px;
      }
      .profile-item-action:hover {
        text-decoration: underline;
      }
      .status-badge {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 12px;
        font-weight: 500;
      }
      .status-badge.pending {
        background: #fef3c7;
        color: #78350f;
      }
      .status-badge.approved {
        background: #d1fae5;
        color: #065f46;
      }
      .status-badge.rejected {
        background: #fee2e2;
        color: #991b1b;
      }
      .qr-image {
        width: 220px;
        height: 220px;
        border-radius: 12px;
        border: 1px dashed #d1d5db;
        object-fit: contain;
        background: #f9fafb;
      }
      .badge-preview-image {
        width: 100%;
        max-width: 360px;
        border-radius: 12px;
        border: 1px solid #e5e7eb;
        background: #f9fafb;
      }
      .questionnaire-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
      @media (max-width: 768px) {
        .content-grid {
          grid-template-columns: 1fr;
        }
        .chart-grid {
          grid-template-columns: 1fr;
        }
        .questionnaire-grid {
          grid-template-columns: 1fr;
        }
      }
      /* å¼€å‘æ¨¡å¼å¯¼èˆªæ  */
      .dev-nav {
        position: fixed;
        top: 60px;
        right: 20px;
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 12px;
        border-radius: 8px;
        z-index: 999;
        font-size: 12px;
        max-width: 200px;
        display: none;
      }
      .dev-nav.active {
        display: block;
      }
      .dev-nav-title {
        font-weight: 600;
        margin-bottom: 8px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
      }
      .dev-nav-item {
        padding: 4px 8px;
        cursor: pointer;
        border-radius: 4px;
        margin-bottom: 4px;
        transition: background 0.2s;
      }
      .dev-nav-item:hover {
        background: rgba(255, 255, 255, 0.2);
      }
      .dev-nav-toggle {
        position: fixed;
        top: 70px;
        right: 20px;
        background: #dc2626;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 6px;
        cursor: pointer;
        z-index: 1000;
        font-size: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }
      .dev-nav-toggle:hover {
        background: #b91c1c;
      }
    </style>
  </head>
  <body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <div class="top-header">
      <div class="logo-section">
        <div class="logo-icon">+</div>
        <div class="logo-text">
          <div class="logo-title">åŒ»åˆ©åº“</div>
          <div class="logo-subtitle">æ™ºèƒ½ç²¾å‡†åŒ»å­¦åä½œç³»ç»Ÿ</div>
        </div>
      </div>
      <div class="top-nav-icons">
        <div class="nav-icon">
          <div class="icon-circle">ğŸ’Š</div>
          <span>å¾®è¯æ•</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">ğŸ•</div>
          <span>æŠ—èŒè°±</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">â“</div>
          <span>æ…§é—®ç­”</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">ğŸ“</div>
          <span>æ…§æ•™å­¦</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">ğŸ§ </div>
          <span>æ…§ç§‘ç ”</span>
        </div>
        <div class="nav-icon active">
          <div class="icon-circle">ğŸ“Š</div>
          <span>æ…§è¯Šé—®</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">ğŸ“„</div>
          <span>MAXIAI</span>
        </div>
        <div class="nav-icon">
          <div class="icon-circle">ğŸ“š</div>
          <span>è¯çŸ¥é“</span>
        </div>
        <div class="nav-icon" onclick="showPage('settings')">
          <div class="icon-circle">ğŸ‘¤</div>
          <span>ä¸ªäººä¸­å¿ƒ</span>
        </div>
      </div>
    </div>

    <!-- ä¸»å¸ƒå±€ -->
    <div class="main-layout">
      <!-- å·¦ä¾§å¯¼èˆªæ  -->
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="sidebar-logo">
            <div class="sidebar-logo-icon">U</div>
            <div>
              <div style="font-weight: 600; font-size: 14px;">SCUAÂ®</div>
              <div style="font-size: 11px; color: #6b7280;">å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ</div>
            </div>
          </div>
        </div>
        <ul class="sidebar-nav">
          <li class="sidebar-nav-item active" data-page="home">
            <span class="nav-icon-symbol">ğŸ </span>
            <span>é¦–é¡µ</span>
          </li>
          <li class="sidebar-nav-item" data-page="dashboard">
            <span class="nav-icon-symbol">ğŸ“Š</span>
            <span>ä»ªè¡¨æ¿</span>
          </li>
          <li class="sidebar-nav-item" data-page="cases">
            <span class="nav-icon-symbol">ğŸ“‹</span>
            <span>æˆ‘çš„ç—…æ¡ˆ</span>
          </li>
          <li class="sidebar-nav-item" data-page="conversations">
            <span class="nav-icon-symbol">ğŸ’¬</span>
            <span>æˆ‘çš„ä¼šè¯</span>
          </li>
          <li class="sidebar-nav-item" data-page="settings">
            <span class="nav-icon-symbol">âš™ï¸</span>
            <span>è®¾ç½®</span>
          </li>
        </ul>
      </div>

      <!-- ä¸»å†…å®¹åŒº -->
      <div class="main-content">
        <!-- ç™»å½•é¡µ -->
        <div class="page active" id="login-page">
          <div class="login-container">
            <div class="login-hero">
              <div class="login-hero-title">Hiï¼Œæ‚¨å¥½</div>
              <div class="login-hero-subtitle" id="login-hero-subtitle-text">
                æ¬¢è¿è¿›å…¥åŒ»åˆ©åº“-æ™ºèƒ½ç²¾å‡†åŒ»å­¦åä½œç³»ç»Ÿ
              </div>
            </div>
            <div class="login-panel">
              <div class="login-box">
                <div class="login-box-inner">
                  <div class="login-left">
                    <div class="login-tabs">
                      <div class="login-tab active" data-tab="login">éªŒè¯ç ç™»å½•</div>
                      <div class="login-tab" data-tab="account">è´¦å·ç™»å½•</div>
                    </div>

                    <!-- éªŒè¯ç ç™»å½•è¡¨å• -->
                    <div id="login-form">
                      <div style="font-size: 12px; color: #6b7280; margin-bottom: 20px;" id="login-tip-text">
                        éªŒè¯å³ç™»å½•ï¼Œæœªæ³¨å†Œå°†è‡ªåŠ¨åˆ›å»ºåŒ»åˆ©åº“è´¦å·
                      </div>
                      <div class="form-group">
                        <label class="form-label">éªŒè¯ç™»å½•è´¦å·</label>
                        <input type="tel" class="form-input" placeholder="è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·" id="login-phone" />
                      </div>
                      <div class="form-group">
                        <label class="form-label">éªŒè¯ç </label>
                        <div class="input-group">
                          <input type="text" class="form-input" placeholder="è¯·è¾“å…¥éªŒè¯ç " id="login-code" />
                          <button type="button" class="btn btn-secondary" onclick="sendCode('login')">å‘é€éªŒè¯ç </button>
                        </div>
                      </div>
                      <button class="btn btn-primary" onclick="handleLogin()">ç‚¹å‡»ç™»å½•</button>
                      <div class="agreement">
                        <input type="checkbox" id="login-agree-checkbox" />
                        <label for="login-agree-checkbox">
                          å·²é˜…è¯»ä¸”åŒæ„
                          <a href="#" onclick="showAgreement('service')">ã€Šæ…§è¯Šé—´ç”¨æˆ·æœåŠ¡åè®®ã€‹</a>
                          å’Œ
                          <a href="#" onclick="showAgreement('privacy')">ã€Šç”¨æˆ·éšç§åè®®ã€‹</a>
                        </label>
                      </div>
                    </div>

                    <!-- è´¦å·ç™»å½•è¡¨å• -->
                    <div id="account-login-form" style="display: none;">
                      <div class="form-group">
                        <label class="form-label">è´¦å·</label>
                        <input type="text" class="form-input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·æˆ–è´¦å·" id="account-login-input" />
                      </div>
                      <div class="form-group">
                        <label class="form-label">å¯†ç </label>
                        <input type="password" class="form-input" placeholder="è¯·è¾“å…¥å¯†ç " id="account-password" />
                      </div>
                      <div style="text-align: right; font-size: 12px; margin-top: 4px;">
                        <a href="#" onclick="openForgotPassword(); return false;" style="color: #dc2626; text-decoration: none;">å¿˜è®°å¯†ç ï¼Ÿ</a>
                      </div>
                      <button class="btn btn-primary" style="margin-top: 8px;" onclick="handleAccountLogin()">ç™»å½•</button>
                    </div>
                  </div>

                  <div class="login-right">
                    <div class="wechat-title">å¾®ä¿¡æ‰«ç ç™»å½•</div>
                    <div class="wechat-qr-placeholder">
                      <span>äºŒç»´ç å ä½</span>
                    </div>
                    <div class="wechat-tip">
                      è¯·å…ˆç‚¹å‡»é˜…è¯»åŒæ„ã€Šæ…§è¯Šé—´æœåŠ¡åè®®ã€‹<br />å’Œã€Šç”¨æˆ·éšç§åè®®ã€‹
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- å¹³å°é¦–é¡µï¼ˆé¡¹ç›®åˆ—è¡¨ï¼‰ -->
        <div class="page" id="home-page">
          <div class="card">
            <div class="card-title">æ¬¢è¿ä½¿ç”¨æ…§è¯Šé—´</div>
            <p style="color: #6b7280; margin-bottom: 20px;" id="home-tip-text">
              è¯·é€‰æ‹©æ‚¨è¦å‚ä¸çš„é¡¹ç›®
            </p>
            <div class="project-grid">
              <div class="project-card" onclick="enterProject('å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ')">
                <div class="project-icon">âœ¨</div>
                <div class="project-title">å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ</div>
                <div class="project-desc">æ…¢æ€§è¨éº»ç–¹æ‚£è€…ç®¡ç†ä¸ç§‘ç ”åä½œé¡¹ç›®ï¼ˆåˆä½œåŒ»ç”Ÿè®¤è¯ï¼‰</div>
              </div>
              <div class="project-card" onclick="enterProject('AIæ™ºç ”é‡‘åŠ©æ‰‹')">
                <div class="project-icon">ğŸ«</div>
                <div class="project-title">AIæ™ºç ”é‡‘åŠ©æ‰‹</div>
                <div class="project-desc">é—´è´¨æ€§è‚ºç—…æ‚£è€…ç®¡ç†ä¸ç§‘ç ”åä½œé¡¹ç›®ï¼ˆæ™®é€šé¡¹ç›®ï¼‰</div>
              </div>
              <div class="project-card" onclick="enterProject('å…¶ä»–é¡¹ç›®')">
                <div class="project-icon">ğŸ“‹</div>
                <div class="project-title">å…¶ä»–é¡¹ç›®</div>
                <div class="project-desc">æ›´å¤šé¡¹ç›®å³å°†ä¸Šçº¿</div>
              </div>
            </div>
          </div>
        </div>

        <!-- é¡¹ç›®ä¸»é¡µï¼ˆæ‚£æ•™å’Œç–¾ç—…èµ„è®¯ï¼‰ -->
        <div class="page" id="project-home-page">
          <!-- ä¸“ç—…è”ç›Ÿæœ€æ–°æ¶ˆæ¯ -->
          <div class="news-section">
            <div class="section-header">
              <div class="section-title" id="project-home-title">ä¸“ç—…è”ç›Ÿæœ€æ–°æ¶ˆæ¯</div>
              <a href="#" class="view-more-link" onclick="alert('æŸ¥çœ‹æ›´å¤š')">æŸ¥çœ‹æ›´å¤š</a>
            </div>
            <div class="content-grid">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23e5e7eb' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af'%3Eä¼šè®®å›¾ç‰‡%3C/text%3E%3C/svg%3E" alt="ä¼šè®®å›¾ç‰‡" class="content-image" />
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23ddd6fe' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%236b7280'%3Eæ…¢æ€§è¨éº»ç–¹%3C/text%3E%3C/svg%3E" alt="æ…¢æ€§è¨éº»ç–¹" class="content-image" />
              <ul class="content-list">
                <li class="content-list-item">çƒ­çƒˆç¥è´ºä¸­å›½å—æ–¹è¨éº»ç–¹è”ç›Ÿæ­£å¼æˆç«‹</li>
                <li class="content-list-item">å®šæœŸé—®å·å¡«å†™,è½»æ¾æŒæ¡è¨éº»ç–¹</li>
                <li class="content-list-item">è¨éº»ç–¹åº”å¯¹æŒ‡å—</li>
                <li class="content-list-item">è¨éº»ç–¹ä¸ç”¨æ„</li>
                <li class="content-list-item">æ…¢æ€§è¨éº»ç–¹çš„æœ€æ–°æ¶ˆæ¯</li>
              </ul>
            </div>
          </div>

          <!-- æ…¢æ€§è¨éº»ç–¹CSUæ•™è‚² -->
          <div class="news-section">
            <div class="section-header">
              <div class="section-title">æ…¢æ€§è¨éº»ç–¹CSUæ•™è‚²</div>
              <a href="#" class="view-more-link" onclick="alert('æŸ¥çœ‹æ›´å¤š')">æŸ¥çœ‹æ›´å¤š</a>
            </div>
            <div class="content-grid">
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23e5e7eb' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%239ca3af'%3Eä¼šè®®å›¾ç‰‡%3C/text%3E%3C/svg%3E" alt="ä¼šè®®å›¾ç‰‡" class="content-image" />
              <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='150'%3E%3Crect fill='%23fee2e2' width='200' height='150'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23dc2626' font-size='20'%3Eéº»ç–¹%3C/text%3E%3C/svg%3E" alt="éº»ç–¹" class="content-image" />
              <ul class="content-list">
                <li class="content-list-item">ç”Ÿç‰©åˆ¶å‰‚ä¼šå½±å“å…ç–«åŠ›,ä¸èƒ½éšä¾¿ä½¿ç”¨?</li>
                <li class="content-list-item">è¨éº»ç–¹æ¶ˆé€€ä¹‹åå°±å¯ä»¥ä¸ç”¨è¯äº†?</li>
                <li class="content-list-item">åªæœ‰é™¤æ ¹çš„æ²»ç–—æ‰æ˜¯å¥½çš„æ²»ç–—?</li>
                <li class="content-list-item">æ²»ç–—è¨éº»ç–¹è¥¿åŒ»ä¸è¡Œ,å¾—é ä¸­åŒ»?</li>
                <li class="content-list-item">å¾—äº†è¨éº»ç–¹ä¹‹åä¸€å®šè¦æ³¨æ„å¿Œå£?</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- é¡¹ç›®ä»ªè¡¨ç›˜ -->
        <div class="page" id="dashboard-page">
          <div class="card">
            <div class="card-title">æ¦‚è§ˆ</div>
            <div class="overview-grid">
              <div class="stat-card">
                <div class="stat-label">ç—…æ¡ˆæ•°é‡</div>
                <div class="stat-value">51</div>
              </div>
              <div class="stat-card">
                <div class="stat-label">è¯„åˆ†æ•°é‡</div>
                <div class="stat-value">17</div>
                <div class="stat-percentage">33%</div>
              </div>
              <div class="stat-card">
                <div class="stat-label">åˆæ ¼æ•°é‡</div>
                <div class="stat-value">3</div>
                <div class="stat-percentage">5%</div>
              </div>
              <div class="stat-card">
                <div class="stat-label">CSUç—…æ¡ˆæ•°</div>
                <div class="stat-value">7</div>
                <div class="stat-percentage">13%</div>
              </div>
              <div class="stat-card">
                <div class="stat-label">R-CSUç—…æ¡ˆæ•°</div>
                <div class="stat-value">6</div>
                <div class="stat-percentage">11%</div>
              </div>
              <div class="stat-card">
                <div class="stat-label">CSUæ²»ç–—åº”ç­”æ•°é‡</div>
                <div class="stat-value">2</div>
                <div class="stat-percentage">3%</div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">å›¾è¡¨åˆ†æ</div>
            <div class="chart-grid">
              <div class="chart-card">
                <div class="chart-title">H1æŠ—ç»„èƒºè¯ä½¿ç”¨æƒ…å†µ</div>
                <div class="chart-container" id="chart1">
                  <canvas id="chart1-canvas" width="400" height="250"></canvas>
                </div>
                <div class="chart-note">CSUä½¿ç”¨H1æŠ—ç»„èƒºè¯æ ‡å‡†æˆ–åŠ å€å‰‚é‡æˆ–è”åˆä½¿ç”¨æ•°é‡: 2 (28%)</div>
              </div>
              <div class="chart-card">
                <div class="chart-title">è¯„ä¼°å·¥å…·ä½¿ç”¨æƒ…å†µ</div>
                <div class="chart-container" id="chart2">
                  <canvas id="chart2-canvas" width="400" height="250"></canvas>
                </div>
                <div class="chart-note">CSUè¯„ä¼°å·¥å…·ä½¿ç”¨æ•°é‡: 7 (100%)</div>
              </div>
              <div class="chart-card">
                <div class="chart-title">å…¶ä»–æŒ‡æ ‡1</div>
                <div class="chart-container" id="chart3">
                  <canvas id="chart3-canvas" width="400" height="250"></canvas>
                </div>
                <div class="chart-note">æ•°æ®ç»Ÿè®¡ä¸­...</div>
              </div>
              <div class="chart-card">
                <div class="chart-title">å…¶ä»–æŒ‡æ ‡2</div>
                <div class="chart-container" id="chart4">
                  <canvas id="chart4-canvas" width="400" height="250"></canvas>
                </div>
                <div class="chart-note">æ•°æ®ç»Ÿè®¡ä¸­...</div>
              </div>
            </div>
          </div>
        </div>

        <!-- æˆ‘çš„ç—…æ¡ˆé¡µ -->
        <div class="page" id="cases-page">
          <div class="card">
            <div class="card-title">æˆ‘çš„ç—…æ¡ˆ</div>
            <p style="color: #6b7280;">ç—…æ¡ˆåˆ—è¡¨åŠŸèƒ½ï¼ˆè®¤è¯åŒ»ç”Ÿ & é¡¹ç›®æœ‰æƒé™æ—¶å¯ç”¨ï¼‰</p>
          </div>
        </div>

        <!-- æˆ‘çš„ä¼šè¯é¡µ -->
        <div class="page" id="conversations-page">
          <div class="card">
            <div class="card-title">æˆ‘çš„ä¼šè¯</div>
            <p style="color: #6b7280;">ä¼šè¯åˆ—è¡¨åŠŸèƒ½</p>
          </div>
        </div>

        <!-- ä¸ªäººä¸­å¿ƒé¡µ -->
        <div class="page" id="settings-page">
          <div class="card">
            <div class="card-title">
              è´¦å·ä¿¡æ¯
              <span id="user-type-badge" class="status-badge pending" style="margin-left: 8px;">å…¬ç½‘ç‰ˆç”¨æˆ·</span>
            </div>
            <div class="profile-section">
              <div class="profile-item">
                <div>
                  <div class="profile-item-label">æˆ‘çš„ä¸“å±äºŒç»´ç </div>
                  <div class="profile-item-value" style="font-size: 12px; color: #6b7280;">
                    ç³»ç»Ÿå·²ä¸ºæ‚¨è‡ªåŠ¨ç”Ÿæˆä¸“å±äºŒç»´ç ï¼Œå¯ç”¨äºæ‰“å°å¼ è´´æˆ–åˆ†äº«ç»™æ‚£è€…
                  </div>
                </div>
                <div style="text-align: center;">
                  <img src="äºŒç»´ç .png" alt="æˆ‘çš„ä¸“å±äºŒç»´ç " class="qr-image" style="width: 140px; height: 140px;" />
                  <div class="profile-item-action" style="margin-top: 8px;" onclick="openQrModal()">æ”¾å¤§æŸ¥çœ‹ / ä¸‹è½½</div>
                </div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">å§“å</div>
                <div class="profile-item-value">è¯·è¾“å…¥</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">ç»‘å®šå¾®ä¿¡å·</div>
                <div class="profile-item-value" id="wechat-bind-value">æœªç»‘å®š</div>
                <div class="profile-item-action" onclick="openWechatBind()">å»ç»‘å®š</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">ç”¨æˆ·è´¦å·</div>
                <div class="profile-item-value">luoshuangyan01</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">å…³è”åŒ»é™¢</div>
                <div class="profile-item-value">åè¯æ™ºå¼•åŒ»å­¦æŠ€æœ¯æœ‰é™å…¬å¸</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">æ‰§ä¸šèŒƒå›´</div>
                <div class="profile-item-value" id="doctor-scope-text">çš®è‚¤ç—…ä¸æ€§ç—…ä¸“ä¸š</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">æ‰§ä¸šåœ°ç‚¹</div>
                <div class="profile-item-value">åè¯æ™ºå¼•åŒ»å­¦æŠ€æœ¯æœ‰é™å…¬å¸</div>
              </div>
              <div class="profile-item">
                <div class="profile-item-label">ç™»å½•å¯†ç </div>
                <div class="profile-item-value">********</div>
                <div class="profile-item-action" onclick="openChangePasswordPage()">å»ä¿®æ”¹</div>
              </div>
            </div>
            <button class="btn btn-primary" onclick="alert('æäº¤æˆåŠŸ')">æäº¤</button>
          </div>

          <!-- æˆ‘çš„ç«‹ç‰Œ -->
          <div class="card">
            <div class="card-title">æˆ‘çš„ç«‹ç‰Œ</div>
            <div class="profile-section" id="badge-section">
              <div class="profile-item" onclick="handleBadgeEntry()" style="cursor: pointer;">
                <div>
                  <div class="profile-item-label">ç«‹ç‰ŒçŠ¶æ€</div>
                  <div class="profile-item-value" id="badge-status-text">å°šæœªåˆ›å»º</div>
                  <div class="profile-item-value" id="badge-free-tip" style="font-size: 12px; color: #6b7280; margin-top: 4px;">
                    æ¯ä½åŒ»ç”Ÿæœ‰ 1 æ¬¡å…è´¹ç”Ÿæˆæœºä¼š
                  </div>
                </div>
                <div class="profile-item-action" id="badge-primary-action" onclick="event.stopPropagation(); handleBadgeEntry();">
                  å»åˆ¶ä½œç«‹ç‰Œ
                </div>
              </div>
              <div class="profile-item" id="badge-preview-row" style="display: none;">
                <div>
                  <div class="profile-item-label">ç«‹ç‰Œé¢„è§ˆ</div>
                  <div class="profile-item-value" style="font-size: 12px; color: #6b7280;">
                    ç«‹ç‰Œç¤ºæ„å›¾ï¼šä¸Šæ–¹ä¸ºåŒ»ç”Ÿå¤´åƒï¼Œä¸‹æ–¹ä¸ºå§“åã€åŒ»é™¢ç§‘å®¤ä¸èŒç§°ä¿¡æ¯ã€‚
                  </div>
                </div>
                <div class="profile-item-action" onclick="openBadgePreviewModal()">é¢„è§ˆç«‹ç‰Œ</div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">åˆä½œåŒ»ç”Ÿè®¤è¯ï¼ˆæŒ‰é¡¹ç›®ï¼‰</div>
            <div class="profile-section">
              <div class="profile-item">
                <div>
                  <div class="profile-item-label">å½“å‰é¡¹ç›®åˆä½œåŒ»ç”Ÿè®¤è¯çŠ¶æ€</div>
                  <div style="margin-top: 4px;">
                    <span class="status-badge pending" id="whitelist-badge">æœªæ ¡éªŒ</span>
                  </div>
                  <div class="profile-item-value" id="whitelist-phone-text" style="font-size: 12px; color: #6b7280; margin-top: 4px;">
                    åˆä½œåŒ»ç”Ÿè®¤è¯å°†æ ¹æ®æ‚¨å½“å‰ç™»å½•çš„æ‰‹æœºå·è¿›è¡Œæ ¡éªŒã€‚
                  </div>
                </div>
                <div class="profile-item-action" id="whitelist-apply-action" onclick="handleWhitelistApplyFromProfile()" style="display: none;">
                  å»ç”³è¯·åŠ å…¥
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">ä¸ªäººèº«ä»½éªŒè¯</div>
            <div class="profile-section">
              <div class="profile-item">
                <div class="profile-item-label">èº«ä»½éªŒè¯çŠ¶æ€</div>
                <div>
                  <span class="status-badge" id="verify-badge">æœªéªŒè¯</span>
                </div>
                <div class="profile-item-action" onclick="showVerifyModal()">å»éªŒè¯</div>
              </div>
            </div>
          </div>

          <!-- æ¿€åŠ±ç”³é¢†ï¼ˆä¸ªäººä¸­å¿ƒå†…å¯æŠ˜å ï¼‰ -->
          <div class="card">
            <div
              class="card-title"
              style="display: flex; align-items: center; justify-content: space-between; cursor: pointer;"
              onclick="toggleRewardSection()"
            >
              <span>ç—…ä¾‹å¥–åŠ±ç”³é¢†</span>
              <span id="reward-toggle-text" style="font-size: 13px; color: #6b7280;">ç‚¹å‡»å±•å¼€</span>
            </div>
            <div id="reward-section-wrapper" style="display: none; margin-top: 8px;">
              <div class="reward-card" style="margin-bottom: 16px;">
                <div class="reward-title" style="margin-bottom: 8px;">ç—…ä¾‹å¥–åŠ±ç”³é¢†è¯´æ˜</div>
                <div class="reward-text">
                  æ­å–œæ‚¨æœ¬æ¬¡æäº¤çš„ç—…ä¾‹å·²é€šè¿‡å®¡æ ¸ï¼æ‚¨å…·å¤‡å¥–åŠ±èµ„æ ¼ï¼Œè¯·å¡«å†™æ”¶æ¬¾ä¿¡æ¯ä»¥ä¾¿å‘æ”¾ã€‚
                </div>
                <div class="reward-text" id="reward-progress-text" style="margin-top: 8px;">
                  å·²å®Œæˆ 0 ä¾‹åˆæ ¼ç—…æ¡ˆä¸Šä¼ ï¼Œè¿˜éœ€å®Œæˆ 0 ä¾‹åˆæ ¼ç—…æ¡ˆä¸Šä¼ å³å¯è·å¾—å¥–åŠ±ã€‚
                </div>
                <div class="reward-notice">
                  ä¸ºä¿éšœæ‚¨çš„å¥–åŠ±é‡‘å¯ä»¥å®‰å…¨ã€åŠæ—¶åˆ°è´¦ï¼Œè¯·ä½¿ç”¨æœ¬äººå®åé“¶è¡Œå¡å®Œæˆç»‘å®šã€‚
                  <br />ç³»ç»Ÿä¼šè‡ªåŠ¨å¯¹ä»¥ä¸‹ä¿¡æ¯è¿›è¡Œäº¤å‰æ ¸éªŒï¼šé“¶è¡Œå¡æˆ·åéœ€ä¸æ‚¨çš„åŒ»ç”Ÿèº«ä»½è®¤è¯å§“åä¸€è‡´ï¼Œé“¶è¡Œå¡é¢„ç•™æ‰‹æœºå·ä¸å®åæ‰‹æœºå·ä¸€è‡´ï¼Œè¯ä»¶å·ç ä¸æ‚¨æäº¤çš„èº«ä»½è¯ä¿¡æ¯ä¸€è‡´ã€‚å¦‚æ ¸éªŒä¸é€šè¿‡ï¼Œç³»ç»Ÿå°†æç¤ºæ‚¨æ ¸å¯¹å§“åã€èº«ä»½è¯åŠé“¶è¡Œå¡ä¿¡æ¯åé‡æ–°æäº¤ã€‚
                </div>
              </div>

              <div class="card" id="reward-section-card" style="margin-bottom: 0;">
                <div class="card-title">å¡«å†™é“¶è¡Œå¡ä¿¡æ¯</div>
                <form id="bank-form" onsubmit="handleBankSubmit(event)">
                  <div class="form-group">
                    <label class="form-label">æ”¶æ¬¾æˆ·å</label>
                    <input
                      type="text"
                      class="form-input"
                      placeholder="ç³»ç»Ÿæ ¹æ®å®åè®¤è¯è‡ªåŠ¨å¡«å……"
                      value="èƒ¡**"
                      disabled
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label"
                      >é“¶è¡Œå¡å· <span style="color: #dc2626;">*</span></label
                    >
                    <input type="text" class="form-input" placeholder="è¯·è¾“å…¥é“¶è¡Œå¡å·" required />
                  </div>
                  <div class="form-group">
                    <label class="form-label">æ”¶æ¬¾é“¶è¡Œ</label>
                    <input
                      type="text"
                      class="form-input"
                      placeholder="æ ¹æ®é“¶è¡Œå¡å·è‡ªåŠ¨å¡«å……"
                      disabled
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label">é¢„ç•™æ‰‹æœºå·</label>
                    <input
                      type="tel"
                      class="form-input"
                      placeholder="é“¶è¡Œé¢„ç•™æ‰‹æœºå·"
                      id="bank-phone"
                    />
                  </div>
                  <div class="form-group">
                    <label class="form-label"
                      >éªŒè¯ç  <span style="color: #dc2626;">*</span></label
                    >
                    <div class="input-group">
                      <input
                        type="text"
                        class="form-input"
                        placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç "
                        id="bank-code"
                      />
                      <button
                        type="button"
                        class="btn btn-secondary"
                        onclick="sendBankCode()"
                      >
                        å‘é€éªŒè¯ç 
                      </button>
                    </div>
                  </div>
                  <div class="reward-notice">
                    é“¶è¡Œå¡ç»‘å®šé¡»çŸ¥ï¼š<br />
                    1. è¯·ä½¿ç”¨ä¸­å›½å¤§é™†åœ°åŒºå¼€ç«‹çš„å®åé“¶è¡Œå¡ï¼›<br />
                    2. è¯·åŠ¡å¿…ç¡®è®¤ï¼Œç»‘å®šé“¶è¡Œå¡ä¿¡æ¯ä¸å¹³å°å®åä¿¡æ¯å®Œå…¨ä¸€è‡´ï¼ˆå§“åã€è¯ä»¶ç±»å‹ã€è¯ä»¶å·ç ç­‰ï¼‰ï¼›<br />
                    3. æœ¬æ“ä½œä»…ç”¨äºå¥–åŠ±é‡‘å‘æ”¾ï¼Œå¹³å°å°†ä¸¥æ ¼éµå®ˆç›¸å…³æ³•è§„ï¼Œä¿æŠ¤æ‚¨çš„éšç§æ•°æ®ã€‚
                  </div>
                  <div class="action-buttons">
                    <button type="submit" class="btn-action" style="flex: 1;">ç¡®è®¤æäº¤</button>
                    <button
                      type="button"
                      class="btn-action btn-secondary"
                      onclick="showPage('dashboard')"
                    >
                      å–æ¶ˆ
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- ä¿®æ”¹ç™»å½•å¯†ç é¡µ -->
        <div class="page" id="change-password-page">
          <div class="card">
            <div class="card-title">ä¿®æ”¹ç™»å½•å¯†ç </div>
            <div style="color: #6b7280; font-size: 13px; margin-bottom: 16px; line-height: 1.6;">
              ä¸ºä¿éšœè´¦å·å®‰å…¨ï¼Œè¯·å®šæœŸä¿®æ”¹ç™»å½•å¯†ç ï¼Œé¿å…ä¸å…¶ä»–ç³»ç»Ÿå…±ç”¨åŒä¸€å¯†ç ã€‚
            </div>
            <div class="form-group">
              <label class="form-label">å½“å‰å¯†ç </label>
              <input type="password" class="form-input" id="change-current-password" placeholder="è¯·è¾“å…¥å½“å‰ç™»å½•å¯†ç " />
            </div>
            <div class="form-group">
              <label class="form-label">æ–°å¯†ç </label>
              <input type="password" class="form-input" id="change-new-password" placeholder="è¯·è®¾ç½®æ–°å¯†ç ï¼ˆ6-20ä½ï¼‰" />
            </div>
            <div class="form-group">
              <label class="form-label">ç¡®è®¤æ–°å¯†ç </label>
              <input type="password" class="form-input" id="change-new-password-confirm" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç " />
            </div>
            <div class="reward-notice">
              å¯†ç éœ€åŒæ—¶æ»¡è¶³ï¼šé•¿åº¦ 6-20 ä½ï¼Œå»ºè®®åŒ…å«å­—æ¯å’Œæ•°å­—ï¼›è¯·å‹¿è®¾ç½®è¿‡äºç®€å•çš„å¯†ç ã€‚
            </div>
            <div class="action-buttons">
              <button type="button" class="btn-action" style="flex: 1;" onclick="submitChangePassword()">ä¿å­˜ä¿®æ”¹</button>
              <button type="button" class="btn-action btn-secondary" onclick="showPage('settings')">è¿”å›ä¸ªäººä¸­å¿ƒ</button>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- èº«ä»½éªŒè¯å¼¹çª— -->
    <div class="modal" id="verify-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">åŒ»ç”Ÿèº«ä»½è®¤è¯</div>
          <button class="modal-close" onclick="closeModal('verify-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; margin-bottom: 24px; font-size: 14px; line-height: 1.6;">
          å½“å‰ä¸ºå…¬ç½‘ç‰ˆç”¨æˆ·ï¼Œå¦‚éœ€ä½¿ç”¨â€œæˆ‘çš„ç—…æ¡ˆâ€ã€â€œä»ªè¡¨ç›˜â€ç­‰æ ¸å¿ƒåŠŸèƒ½ï¼Œè¯·å…ˆå®ŒæˆåŒ»ç”Ÿèº«ä»½è®¤è¯ã€‚æäº¤åç³»ç»Ÿå°†é€šè¿‡ AI è‡ªåŠ¨å®¡æ ¸æ‚¨ä¸Šä¼ çš„æ‰§ä¸šåŒ»å¸ˆèµ„æ ¼è¯/æ‰§ä¸šè¯ä¹¦çš„å®Œæ•´æ€§ã€‚
        </div>

        <div class="form-group">
          <label class="form-label">
            åŒ»å¸ˆèµ„æ ¼è¯ä¹¦
            <a href="#" class="example-link" onclick="alert('æŸ¥çœ‹ç¤ºä¾‹å›¾ç‰‡')">æŸ¥çœ‹ç¤ºä¾‹</a>
          </label>
          <div class="upload-area" onclick="triggerFileUpload('certificate')">
            <div class="upload-icon">ğŸ“„</div>
            <div class="upload-text">ç‚¹å‡»ä¸Šä¼ </div>
            <div class="upload-hint">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå¤§å°ä¸è¶…è¿‡ 5MB</div>
          </div>
          <input type="file" id="certificate-file" style="display: none;" accept="image/*" />
        </div>

        <div class="form-group">
          <label class="form-label">
            åŒ»å¸ˆæ‰§ä¸šè¯ä¹¦
            <a href="#" class="example-link" onclick="alert('æŸ¥çœ‹ç¤ºä¾‹å›¾ç‰‡')">æŸ¥çœ‹ç¤ºä¾‹</a>
          </label>
          <div class="upload-area" onclick="triggerFileUpload('license')">
            <div class="upload-icon">ğŸ“„</div>
            <div class="upload-text">ç‚¹å‡»ä¸Šä¼ </div>
            <div class="upload-hint">æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œå¤§å°ä¸è¶…è¿‡ 5MB</div>
          </div>
          <input type="file" id="license-file" style="display: none;" accept="image/*" />
        </div>

        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('verify-modal')">æš‚ä¸éªŒè¯</button>
          <button class="btn btn-primary" onclick="submitVerification()">æäº¤éªŒè¯</button>
        </div>
      </div>
    </div>

    <!-- æ‰§ä¸šè¯ä»¶ AI å®¡æ ¸ä¸é€šè¿‡æç¤ºå¼¹çª— -->
    <div class="modal" id="license-audit-fail-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">åŒ»ç”Ÿè¯ä»¶ AI å®¡æ ¸æœªé€šè¿‡</div>
          <button class="modal-close" onclick="closeModal('license-audit-fail-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; font-size: 14px; line-height: 1.6; margin-bottom: 16px;">
          ç³»ç»Ÿå·²é€šè¿‡ AI è‡ªåŠ¨æ£€æŸ¥æ‚¨ä¸Šä¼ çš„æ‰§ä¸šåŒ»å¸ˆèµ„æ ¼è¯ / æ‰§ä¸šè¯ä¹¦ï¼Œå½“å‰æœªèƒ½é€šè¿‡å®Œæ•´æ€§æ ¡éªŒï¼ŒåŸå› å¦‚ä¸‹ï¼š
        </div>
        <div id="license-audit-fail-reason" style="background: #fef2f2; border-radius: 8px; padding: 12px 14px; color: #991b1b; font-size: 13px; margin-bottom: 20px;">
          è¯ä»¶ç…§ç‰‡ä¸å¤Ÿæ¸…æ™°ï¼Œæœªèƒ½è¯†åˆ«åˆ°å®Œæ•´çš„è¯ä»¶ç¼–å·ä¸ç›–ç« ä¿¡æ¯ï¼Œè¯·é‡æ–°æ‹æ‘„å¹¶ä¸Šä¼ æ¸…æ™°çš„å®Œæ•´è¯ä»¶ç…§ç‰‡ã€‚
        </div>
        <div style="display: flex; gap: 24px; align-items: center; margin-bottom: 20px;">
          <div>
            <div style="font-size: 13px; color: #374151; margin-bottom: 8px;">å¦‚éœ€ååŠ©ï¼Œå¯æ·»åŠ ä¸‹æ–¹å®¢æœå¾®ä¿¡</div>
            <div style="font-size: 12px; color: #6b7280; line-height: 1.6;">
              æ‰«ç æ·»åŠ åï¼Œè¯·å¤‡æ³¨â€œåŒ»ç”Ÿè¯ä»¶å®¡æ ¸ + æ‚¨çš„å§“åâ€ï¼Œä¸“å±å®¢æœå°†ååŠ©æ‚¨æ ¸å¯¹è¯ä»¶è¦æ±‚ä¸é‡æ–°ä¸Šä¼ ã€‚
            </div>
          </div>
          <div style="text-align: center;">
            <img src="äºŒç»´ç .png" alt="å®¢æœå¾®ä¿¡äºŒç»´ç " class="qr-image" />
            <div style="font-size: 12px; color: #6b7280; margin-top: 6px;">å®¢æœå¾®ä¿¡äºŒç»´ç ç¤ºæ„</div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('license-audit-fail-modal')">ç¨åå†è¯´</button>
          <button class="btn btn-primary" onclick="handleLicenseReupload()">é‡æ–°ä¸Šä¼ è¯ä»¶</button>
        </div>
      </div>
    </div>

    <!-- å¿˜è®°å¯†ç å¼¹çª— -->
    <div class="modal" id="forgot-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">æ‰¾å›ç™»å½•å¯†ç </div>
          <button class="modal-close" onclick="closeModal('forgot-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; margin-bottom: 16px; font-size: 14px;">
          é€šè¿‡æ‰‹æœºéªŒè¯ç éªŒè¯èº«ä»½åï¼Œé‡ç½®æ‚¨çš„ç™»å½•å¯†ç ã€‚
        </div>
        <div class="form-group">
          <label class="form-label">æ‰‹æœºå·</label>
          <input type="tel" class="form-input" id="forgot-phone" placeholder="è¯·è¾“å…¥æ³¨å†Œæ‰‹æœºå·" />
        </div>
        <div class="form-group">
          <label class="form-label">éªŒè¯ç </label>
          <div class="input-group">
            <input type="text" class="form-input" id="forgot-code" placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç " />
            <button type="button" class="btn btn-secondary" onclick="sendForgotCode()">å‘é€éªŒè¯ç </button>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">æ–°å¯†ç </label>
          <input type="password" class="form-input" id="forgot-password" placeholder="è¯·è®¾ç½®æ–°å¯†ç ï¼ˆ6-20ä½ï¼‰" />
        </div>
        <div class="form-group">
          <label class="form-label">ç¡®è®¤æ–°å¯†ç </label>
          <input type="password" class="form-input" id="forgot-password-confirm" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç " />
        </div>
        <div class="reward-notice">
          ä¸ºä¿éšœè´¦å·å®‰å…¨ï¼Œè¯·å‹¿å°†éªŒè¯ç å’Œå¯†ç æ³„éœ²ç»™ä»–äººã€‚
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('forgot-modal')">å–æ¶ˆ</button>
          <button class="btn btn-primary" onclick="submitForgotPassword()">ç¡®è®¤ä¿®æ”¹</button>
        </div>
      </div>
    </div>

    <!-- ç»‘å®šå¾®ä¿¡å·å¼¹çª— -->
    <div class="modal" id="wechat-bind-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">ç»‘å®šå¾®ä¿¡å·</div>
          <button class="modal-close" onclick="closeModal('wechat-bind-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; margin-bottom: 16px; font-size: 14px;">
          è¯·è¾“å…¥æ‚¨æœ¬äººå¸¸ç”¨çš„å¾®ä¿¡å·ï¼Œç”¨äºæ‚£è€…æ‰«ç åæ·»åŠ æ‚¨ä¸ºåŒ»ç”Ÿã€‚åç»­å¦‚éœ€æ›´æ¢ï¼Œå¯åœ¨æ­¤é¡µé¢å†æ¬¡ä¿®æ”¹ã€‚
        </div>
        <div class="form-group">
          <label class="form-label">å¾®ä¿¡å·</label>
          <input type="text" class="form-input" id="wechat-bind-input" placeholder="è¯·è¾“å…¥å¾®ä¿¡å·ï¼Œä¾‹å¦‚ï¼šdoctor_huayao" />
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('wechat-bind-modal')">å–æ¶ˆ</button>
          <button class="btn btn-primary" onclick="submitWechatBind()">ç¡®è®¤ç»‘å®š</button>
        </div>
      </div>
    </div>

    <!-- æˆ‘çš„ä¸“å±äºŒç»´ç å¼¹çª— -->
    <div class="modal" id="qr-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">æˆ‘çš„ä¸“å±äºŒç»´ç </div>
          <button class="modal-close" onclick="closeModal('qr-modal')">Ã—</button>
        </div>
        <div style="text-align: center;">
          <img src="äºŒç»´ç .png" alt="æˆ‘çš„ä¸“å±äºŒç»´ç " class="qr-image" />
          <div style="margin-top: 12px; font-size: 13px; color: #6b7280; line-height: 1.6;">
            æ‰«æäºŒç»´ç åï¼Œæ‚£è€…å³å¯å…³æ³¨æ‚¨çš„ä¸“å±æ…§è¯Šé—´å…¥å£ã€‚<br />
            å®é™…ç³»ç»Ÿä¸­ï¼Œå°†ç”±åå°æ ¹æ®åŒ»ç”Ÿä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆå”¯ä¸€äºŒç»´ç ã€‚
          </div>
        </div>
        <div class="modal-footer" style="justify-content: center;">
          <button class="btn btn-primary" onclick="alert('æ¨¡æ‹Ÿä¸‹è½½äºŒç»´ç å›¾ç‰‡')">ä¸‹è½½äºŒç»´ç </button>
        </div>
      </div>
    </div>

    <!-- ç«‹ç‰Œä¿¡æ¯æ”¶é›†é—®å·å¼¹çª— -->
    <div class="modal" id="badge-questionnaire-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">åˆ¶ä½œæˆ‘çš„åŒ»ç”Ÿç«‹ç‰Œ</div>
          <button class="modal-close" onclick="closeModal('badge-questionnaire-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; margin-bottom: 16px; font-size: 14px; line-height: 1.6;">
          è¯·å¡«å†™åˆ¶ä½œç«‹ç‰Œæ‰€éœ€çš„åŸºç¡€ä¿¡æ¯ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨å¥—ç”¨æ ‡å‡†æ¨¡æ¿ç”Ÿæˆæ‚¨çš„ä¸ªäººç«‹ç‰Œã€‚
        </div>
        <div class="questionnaire-grid">
          <div class="form-group">
            <label class="form-label">å§“å</label>
            <input type="text" class="form-input" id="badge-name" placeholder="è¯·è¾“å…¥å§“åï¼Œå¦‚ï¼šå¼ ä¸‰" />
          </div>
          <div class="form-group">
            <label class="form-label">èŒç§°</label>
            <input type="text" class="form-input" id="badge-title" placeholder="ä¸»ä»»åŒ»å¸ˆ / å‰¯ä¸»ä»»åŒ»å¸ˆ / ä¸»æ²»åŒ»å¸ˆ ç­‰" />
          </div>
          <div class="form-group">
            <label class="form-label">åŒ»é™¢å…¨ç§°</label>
            <input type="text" class="form-input" id="badge-hospital" placeholder="è¯·è¾“å…¥åŒ»é™¢å…¨ç§°" />
          </div>
          <div class="form-group">
            <label class="form-label">ç§‘å®¤å…¨ç§°</label>
            <input type="text" class="form-input" id="badge-department" placeholder="è¯·è¾“å…¥ç§‘å®¤åç§°ï¼Œå¦‚ï¼šçš®è‚¤ç§‘" />
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">
            å¤´åƒç…§ç‰‡
            <span style="font-size: 12px; color: #9ca3af;">ï¼ˆç”¨äºç«‹ç‰Œä¸Šæ–¹åŒ»ç”Ÿå½¢è±¡å±•ç¤ºï¼‰</span>
          </label>
          <div class="upload-area" onclick="triggerFileUpload('badge-avatar')">
            <div class="upload-icon">ğŸ“·</div>
            <div class="upload-text">ç‚¹å‡»ä¸Šä¼ æ ‡å‡†ç™½åº•åŠèº«ç…§</div>
            <div class="upload-hint">æ”¯æŒ JPGã€PNGï¼Œå¤§å°ä¸è¶…è¿‡ 5MB</div>
          </div>
          <input type="file" id="badge-avatar-file" style="display: none;" accept="image/*" />
        </div>
        <div class="reward-notice" id="badge-free-desc">
          å½“å‰ä¸ºé¦–æ¬¡ç”Ÿæˆç«‹ç‰Œï¼Œæœ¬æ¬¡åˆ¶ä½œå…è´¹ï¼›å¦‚éœ€åç»­ä¿®æ”¹ï¼Œå¯å†æ¬¡è¿›å…¥æœ¬é—®å·é¡µé¢è°ƒæ•´ä¿¡æ¯å¹¶é‡æ–°ç”Ÿæˆã€‚
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('badge-questionnaire-modal')">ç¨åå†è¯´</button>
          <button class="btn btn-primary" onclick="submitBadgeQuestionnaire()">ç”Ÿæˆç«‹ç‰Œé¢„è§ˆ</button>
        </div>
      </div>
    </div>

    <!-- ç«‹ç‰Œé¢„è§ˆå¼¹çª— -->
    <div class="modal" id="badge-preview-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">ç«‹ç‰Œé¢„è§ˆ</div>
          <button class="modal-close" onclick="closeModal('badge-preview-modal')">Ã—</button>
        </div>
        <div style="text-align: center;">
          <img src="ç«‹ç‰Œæ¨¡æ¿-å¥³åŒ»ç”Ÿ.psd (1).svg" alt="åŒ»ç”Ÿç«‹ç‰Œé¢„è§ˆ" class="badge-preview-image" />
          <div style="margin-top: 12px; font-size: 13px; color: #6b7280; line-height: 1.6;">
            ä»¥ä¸Šä¸ºç«‹ç‰Œæ¨¡æ¿ç¤ºæ„å›¾ï¼Œå®é™…ç”Ÿæˆæ—¶å°†è‡ªåŠ¨æ›¿æ¢ä¸ºæ‚¨çš„å§“åã€åŒ»é™¢ã€ç§‘å®¤ã€èŒç§°åŠå¤´åƒã€‚<br />
            ç‚¹å‡»â€œç¡®è®¤ç”Ÿæˆå¹¶ä¸‹è½½â€åï¼Œæœ¬æ¬¡ç«‹ç‰Œå°†å ç”¨æ‚¨çš„å…è´¹ç”Ÿæˆæ¬¡æ•°ã€‚
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('badge-preview-modal'); openBadgeQuestionnaireForEdit();">
            è¿”å›ä¿®æ”¹ä¿¡æ¯
          </button>
          <button class="btn btn-primary" onclick="confirmGenerateBadge()">ç¡®è®¤ç”Ÿæˆå¹¶ä¸‹è½½</button>
        </div>
      </div>
    </div>

    <!-- æ‰§ä¸šèŒƒå›´ä¸ç¬¦å¼¹çª— -->
    <div class="modal" id="scope-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">æ‰§ä¸šèŒƒå›´æç¤º</div>
          <button class="modal-close" onclick="closeModal('scope-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; font-size: 14px; line-height: 1.6; margin-bottom: 16px;" id="scope-modal-text">
          æ‚¨çš„æ‰§ä¸šèŒƒå›´ä¸é¡¹ç›®è¦æ±‚ä¸å®Œå…¨åŒ¹é…ï¼Œæ˜¯å¦ä»ç„¶è¿›å…¥è¯¥é¡¹ç›®ç©ºé—´ï¼Ÿ
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="closeModal('scope-modal')">è¿”å›é¡¹ç›®åˆ—è¡¨</button>
          <button class="btn btn-primary" onclick="confirmEnterProjectAfterScope()">ä»ç„¶è¿›å…¥</button>
        </div>
      </div>
    </div>

    <!-- åˆä½œåŒ»ç”Ÿè®¤è¯é¡¹ç›®æç¤ºå¼¹çª— -->
    <div class="modal" id="whitelist-modal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-title">åˆä½œåŒ»ç”Ÿè®¤è¯æç¤º</div>
          <button class="modal-close" onclick="closeModal('whitelist-modal')">Ã—</button>
        </div>
        <div style="color: #6b7280; font-size: 14px; line-height: 1.6; margin-bottom: 16px;" id="whitelist-modal-text">
          æ‚¨æš‚æœªé€šè¿‡æœ¬é¡¹ç›®çš„åˆä½œåŒ»ç”Ÿè®¤è¯ï¼Œå¯ç”³è¯·åŠ å…¥æˆ–ä»…æµè§ˆå…¬å¼€å†…å®¹ã€‚
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" onclick="handleWhitelistCancel()">ä»…æµè§ˆå…¬å¼€å†…å®¹</button>
          <button class="btn btn-primary" onclick="handleWhitelistApply()">ç”³è¯·åŠ å…¥åˆä½œåŒ»ç”Ÿè®¤è¯</button>
        </div>
      </div>
    </div>

    <!-- å¼€å‘æ¨¡å¼å¯¼èˆª -->
    <button class="dev-nav-toggle" onclick="toggleDevNav()" title="å¼€å‘æ¨¡å¼ï¼šå¿«é€Ÿåˆ‡æ¢é¡µé¢">ğŸ”§ é¡µé¢å¯¼èˆª</button>
    <div class="dev-nav" id="dev-nav">
      <div class="dev-nav-title">å¿«é€Ÿåˆ‡æ¢é¡µé¢</div>
      <div class="dev-nav-item" onclick="devShowPage('login')">ç™»å½•/æ³¨å†Œé¡µ</div>
      <div class="dev-nav-item" onclick="devShowPage('home')">é¡¹ç›®åˆ—è¡¨</div>
      <div class="dev-nav-item" onclick="devShowPage('project-home')">é¡¹ç›®ä¸»é¡µ</div>
      <div class="dev-nav-item" onclick="devShowPage('dashboard')">ä»ªè¡¨ç›˜</div>
      <div class="dev-nav-item" onclick="devShowPage('cases')">æˆ‘çš„ç—…æ¡ˆ</div>
      <div class="dev-nav-item" onclick="devShowPage('conversations')">æˆ‘çš„ä¼šè¯</div>
      <div class="dev-nav-item" onclick="devShowPage('settings')">ä¸ªäººä¸­å¿ƒ</div>
      <div class="dev-nav-item" onclick="showRewardForm()">æ¿€åŠ±ç”³é¢†ï¼ˆä¸ªäººä¸­å¿ƒï¼‰</div>
      <div class="dev-nav-title" style="margin-top: 10px;">çŠ¶æ€æ¨¡æ‹Ÿ</div>
      <div class="dev-nav-item" onclick="setMockLicenseAudit('success')">è¯ä»¶å®¡æ ¸ï¼šæˆåŠŸ</div>
      <div class="dev-nav-item" onclick="setMockLicenseAudit('fail')">è¯ä»¶å®¡æ ¸ï¼šå¤±è´¥</div>
      <div class="dev-nav-item" onclick="setMockBankCheck('success')">é“¶è¡Œå¡æ ¡éªŒï¼šæˆåŠŸ</div>
      <div class="dev-nav-item" onclick="setMockBankCheck('fail')">é“¶è¡Œå¡æ ¡éªŒï¼šå¤±è´¥</div>
    </div>

    <!-- é¡µè„š -->
    <div class="footer">
      <div>åè¯æ™ºå¼•åŒ»å­¦æŠ€æœ¯æœ‰é™å…¬å¸</div>
      <div style="margin-top: 4px;">HUAYAO-AI CO.LTD.</div>
    </div>

    <script>
      // å…¨å±€çŠ¶æ€
      let isVerified = false; // æ˜¯å¦å®ŒæˆåŒ»ç”Ÿè®¤è¯
      let userType = "public"; // public | doctorVerified
      let currentProject = ""; // å½“å‰é€‰æ‹©çš„é¡¹ç›®åç§°
      let currentProjectId = ""; // é¡¹ç›®ID
      let pendingProjectName = ""; // æ‰§ä¸šèŒƒå›´/åˆä½œåŒ»ç”Ÿè®¤è¯å¼¹çª—ç¡®è®¤åè¦è¿›å…¥çš„é¡¹ç›®
      let currentPhone = ""; // å½“å‰ç™»å½•æ‰‹æœºå·ï¼ˆç”¨äºåˆä½œåŒ»ç”Ÿè®¤è¯æŒ‰æ‰‹æœºå·æ ¡éªŒçš„æç¤ºï¼‰
      let badgeStatus = "none"; // ç«‹ç‰ŒçŠ¶æ€ï¼šnone / generated
      let badgeGeneratedTimes = 0; // ç«‹ç‰Œç”Ÿæˆæ¬¡æ•°
      let completedQualifiedCases = 2; // å·²å®Œæˆåˆæ ¼ç—…æ¡ˆæ•°ï¼ˆç¤ºä¾‹ï¼‰
      let requiredQualifiedCases = 5; // è·å¾—å¥–åŠ±æ‰€éœ€ç—…æ¡ˆæ•°ï¼ˆç¤ºä¾‹ï¼‰
      // å¼€å‘æ¨¡å¼ï¼šæ¨¡æ‹Ÿç»“æœçŠ¶æ€
      let mockLicenseAuditResult = "success"; // success | fail
      let mockBankCheckResult = "success"; // success | fail

      // åŒ»ç”Ÿæ‰§ä¸šèŒƒå›´ï¼ˆç¤ºä¾‹ï¼‰
      const doctorScope = {
        specialties: ["çš®è‚¤ç—…ä¸æ€§ç—…ä¸“ä¸š"],
        locations: ["åè¯æ™ºå¼•åŒ»å­¦æŠ€æœ¯æœ‰é™å…¬å¸"]
      };

      // é¡¹ç›®é…ç½®ï¼ˆç¤ºä¾‹ï¼‰
      const projectsConfig = {
        "å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ": { id: "scua", type: "whitelist", requiredScope: "çš®è‚¤ç—…ä¸æ€§ç—…ä¸“ä¸š" },
        "AIæ™ºç ”é‡‘åŠ©æ‰‹": { id: "ild", type: "normal", requiredScope: "å‘¼å¸ä¸å±é‡ç—‡åŒ»å­¦" },
        "å…¶ä»–é¡¹ç›®": { id: "other", type: "normal", requiredScope: null }
      };

      // é¡¹ç›®åˆä½œåŒ»ç”Ÿè®¤è¯çŠ¶æ€ï¼ˆç¤ºä¾‹ï¼‰
      // å®é™…ç³»ç»Ÿä¸­åº”ç”±åå°æ ¹æ®ã€Œç™»å½•æ‰‹æœºå· + é¡¹ç›®IDã€æŸ¥è¯¢å½“å‰åˆä½œåŒ»ç”Ÿè®¤è¯çŠ¶æ€ï¼Œ
      // è¿™é‡Œä»…ç”¨ projectWhitelistStatus æ¨¡æ‹Ÿä¸åŒæ‰‹æœºå·æŸ¥è¯¢åçš„ç»“æœçŠ¶æ€ã€‚
      const projectWhitelistStatus = {
        scua: "none", // pending / approved / rejected / none
        ild: "approved",
        other: "approved"
      };

      // é¡µé¢åˆ‡æ¢
      function showPage(pageId) {
        document.querySelectorAll(".page").forEach((page) => {
          page.classList.remove("active");
        });
        const pageEl = document.getElementById(pageId + "-page");
        if (pageEl) {
          pageEl.classList.add("active");
        }

        // æ›´æ–°ä¾§è¾¹æ çŠ¶æ€
        document.querySelectorAll(".sidebar-nav-item").forEach((item) => {
          item.classList.remove("active");
        });
        const navItem = document.querySelector(`[data-page="${pageId}"]`);
        if (navItem) navItem.classList.add("active");
      }

      // ä¾§è¾¹æ å¯¼èˆª
      document.querySelectorAll(".sidebar-nav-item").forEach((item) => {
        item.addEventListener("click", () => {
          const pageId = item.dataset.page;
          // é¦–é¡µï¼šå¦‚æœå·²é€‰æ‹©é¡¹ç›®ï¼Œæ˜¾ç¤ºé¡¹ç›®ä¸»é¡µï¼›å¦åˆ™æ˜¾ç¤ºé¡¹ç›®åˆ—è¡¨
          if (pageId === "home") {
            if (currentProject) {
              showPage("project-home");
            } else {
              showPage("home");
            }
            return;
          }
          // éœ€è¦èº«ä»½éªŒè¯çš„é¡µé¢
          if (pageId === "dashboard" || pageId === "cases" || pageId === "conversations") {
            if (!isVerified) {
              document.getElementById("verify-modal").classList.add("active");
              return;
            }
          }
          showPage(pageId);
        });
      });

      // ç™»å½•é¡µæ ‡ç­¾åˆ‡æ¢ï¼ˆéªŒè¯ç ç™»å½• / è´¦å·ç™»å½•ï¼‰
      document.querySelectorAll("#login-page .login-tabs > .login-tab").forEach((tab) => {
        tab.addEventListener("click", () => {
          document
            .querySelectorAll("#login-page .login-tabs > .login-tab")
            .forEach((t) => t.classList.remove("active"));
          tab.classList.add("active");

          const tabType = tab.dataset.tab;
          document.getElementById("login-form").style.display = "none";
          document.getElementById("account-login-form").style.display = "none";

          if (tabType === "login") {
            document.getElementById("login-form").style.display = "block";
          } else if (tabType === "account") {
            document.getElementById("account-login-form").style.display = "block";
          }
        });
      });

      // å‘é€éªŒè¯ç 
      function sendCode(type) {
        let phoneInput;
        if (type === "login") {
          phoneInput = document.getElementById("login-phone");
        } else if (type === "register") {
          phoneInput = document.getElementById("register-phone");
        }
        if (!phoneInput) return;

        const phone = phoneInput.value;
        if (!phone) {
          alert("è¯·å…ˆè¾“å…¥æ‰‹æœºå·");
          return;
        }
        if (!/^1[3-9]\d{9}$/.test(phone)) {
          alert("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·");
          return;
        }
        alert("éªŒè¯ç å·²å‘é€åˆ° " + phone);
      }

      // ç™»å½•å¤„ç†
      function handleLogin() {
        const phone = document.getElementById("login-phone").value;
        const code = document.getElementById("login-code").value;
        const agreed = document.getElementById("login-agree-checkbox").checked;

        if (!phone || !code) {
          alert("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯");
          return;
        }
        if (!agreed) {
          alert("è¯·å…ˆåŒæ„ç”¨æˆ·åè®®");
          return;
        }

        // è®°å½•å½“å‰ç™»å½•æ‰‹æœºå·ï¼ˆç”¨äºåˆä½œåŒ»ç”Ÿè®¤è¯æŒ‰æ‰‹æœºå·æ ¡éªŒçš„æç¤ºï¼‰
        currentPhone = phone;
        const phoneHint = document.getElementById("whitelist-phone-text");
        if (phoneHint) {
          phoneHint.textContent = `åˆä½œåŒ»ç”Ÿè®¤è¯å°†æ ¹æ®æ‚¨å½“å‰ç™»å½•çš„æ‰‹æœºå·è¿›è¡Œæ ¡éªŒï¼š${currentPhone}`;
        }

        // æ¨¡æ‹Ÿç™»å½•æˆåŠŸ
        showPage("home");
      }

      // è´¦å·ç™»å½•å¤„ç†
      function handleAccountLogin() {
        const account = document.getElementById("account-login-input").value;
        const password = document.getElementById("account-password").value;

        if (!account || !password) {
          alert("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯");
          return;
        }

        // è´¦å·ç™»å½•åœºæ™¯ä¸‹ï¼Œå‡è®¾è´¦å·å³ä¸ºæ‰‹æœºå·ï¼ˆåŸå‹ä¸­ç”¨äºåˆä½œåŒ»ç”Ÿè®¤è¯æç¤ºï¼‰
        currentPhone = account;
        const phoneHint = document.getElementById("whitelist-phone-text");
        if (phoneHint) {
          phoneHint.textContent = `åˆä½œåŒ»ç”Ÿè®¤è¯å°†æ ¹æ®æ‚¨å½“å‰ç™»å½•çš„æ‰‹æœºå·è¿›è¡Œæ ¡éªŒï¼š${currentPhone}`;
        }

        showPage("home");
      }

      // æ˜¾ç¤ºåè®®å†…å®¹
      function showAgreement(type) {
        if (type === "service") {
          const content = `
            <h2 style="margin-bottom: 16px;">æ…§è¯Šé—´ç”¨æˆ·æœåŠ¡åè®®</h2>
            <div style="max-height: 400px; overflow-y: auto; line-height: 1.8; color: #374151;">
              <p style="margin-bottom: 12px;"><strong>ç¬¬ä¸€æ¡ åè®®çš„æ¥å—</strong></p>
              <p style="margin-bottom: 12px;">æ¬¢è¿ä½¿ç”¨æ…§è¯Šé—´å¹³å°ï¼ˆä»¥ä¸‹ç®€ç§°"æœ¬å¹³å°"ï¼‰ã€‚åœ¨ä½¿ç”¨æœ¬å¹³å°æœåŠ¡å‰ï¼Œè¯·æ‚¨ä»”ç»†é˜…è¯»æœ¬åè®®çš„å…¨éƒ¨å†…å®¹ã€‚å½“æ‚¨ç‚¹å‡»"åŒæ„"æˆ–å¼€å§‹ä½¿ç”¨æœ¬å¹³å°æœåŠ¡æ—¶ï¼Œå³è¡¨ç¤ºæ‚¨å·²å……åˆ†ç†è§£å¹¶åŒæ„æ¥å—æœ¬åè®®çš„å…¨éƒ¨å†…å®¹ã€‚</p>
            </div>
          `;
          showAgreementModal(content);
        } else if (type === "privacy") {
          const content = `
            <h2 style="margin-bottom: 16px;">ç”¨æˆ·éšç§åè®®</h2>
            <div style="max-height: 400px; overflow-y: auto; line-height: 1.8; color: #374151;">
              <p style="margin-bottom: 12px;"><strong>ç¬¬ä¸€æ¡ ä¿¡æ¯æ”¶é›†</strong></p>
              <p style="margin-bottom: 12px;">æˆ‘ä»¬å¯èƒ½æ”¶é›†ä»¥ä¸‹ä¿¡æ¯ï¼šæ‰‹æœºå·ã€å§“åã€åŒ»é™¢ä¿¡æ¯ã€ç—…ä¾‹æ•°æ®ç­‰ã€‚è¿™äº›ä¿¡æ¯å°†ç”¨äºæä¾›æ›´å¥½çš„æœåŠ¡ã€‚</p>
            </div>
          `;
          showAgreementModal(content);
        }
      }

      // æ˜¾ç¤ºåè®®å¼¹çª—
      function showAgreementModal(content) {
        const modal = document.createElement("div");
        modal.className = "modal active";
        modal.innerHTML = `
          <div class="modal-content">
            <div class="modal-header">
              <div class="modal-title"></div>
              <button class="modal-close" onclick="this.closest('.modal').remove()">Ã—</button>
            </div>
            ${content}
            <div class="modal-footer">
              <button class="btn btn-primary" onclick="this.closest('.modal').remove()">æˆ‘å·²é˜…è¯»</button>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
      }

      // æ‰“å¼€ç«‹ç‰Œåˆ¶ä½œç•Œé¢ï¼šæ ¹æ®çŠ¶æ€å†³å®šè¿›å…¥é—®å·è¿˜æ˜¯ç›´æ¥é¢„è§ˆ
      function openBadgeCreate() {
        if (badgeStatus === "generated") {
          openBadgePreviewModal();
          return;
        }
        const freeDesc = document.getElementById("badge-free-desc");
        if (freeDesc) {
          freeDesc.textContent =
            badgeGeneratedTimes === 0
              ? "å½“å‰ä¸ºé¦–æ¬¡ç”Ÿæˆç«‹ç‰Œï¼Œæœ¬æ¬¡åˆ¶ä½œå…è´¹ï¼›å¦‚éœ€åç»­ä¿®æ”¹ï¼Œå¯å†æ¬¡è¿›å…¥æœ¬é—®å·é¡µé¢è°ƒæ•´ä¿¡æ¯å¹¶é‡æ–°ç”Ÿæˆã€‚"
              : "æ‚¨å·²ä½¿ç”¨è¿‡ä¸€æ¬¡å…è´¹ç”Ÿæˆæœºä¼šï¼Œæœ¬æ¬¡ä¸ºä¿®æ”¹ä¿¡æ¯å†æ¬¡ç”Ÿæˆç«‹ç‰Œç¤ºæ„ã€‚å…·ä½“æ‰£è´¹é€»è¾‘ç”±åå°æ§åˆ¶ã€‚";
        }
        document.getElementById("badge-questionnaire-modal").classList.add("active");
      }

      // æ‰“å¼€ç«‹ç‰Œç®¡ç†ç•Œé¢ï¼ˆç®€åŒ–ä¸ºç›´æ¥è¿›å…¥é¢„è§ˆï¼‰
      function openBadgeManage() {
        openBadgePreviewModal();
      }

      // æˆ‘çš„ç«‹ç‰Œå…¥å£ç‚¹å‡»å¤„ç†
      function handleBadgeEntry() {
        if (badgeStatus === "generated") {
          openBadgePreviewModal();
        } else {
          openBadgeCreate();
        }
      }

      // æ‰“å¼€ç«‹ç‰Œé¢„è§ˆå¼¹çª—
      function openBadgePreviewModal() {
        document.getElementById("badge-preview-modal").classList.add("active");
      }

      // é—®å·æäº¤ï¼Œè¿›å…¥é¢„è§ˆ
      function submitBadgeQuestionnaire() {
        const name = document.getElementById("badge-name").value.trim();
        const title = document.getElementById("badge-title").value.trim();
        const hospital = document.getElementById("badge-hospital").value.trim();
        const department = document.getElementById("badge-department").value.trim();

        if (!name || !title || !hospital || !department) {
          alert("è¯·å…ˆå®Œæ•´å¡«å†™å§“åã€èŒç§°ã€åŒ»é™¢å’Œç§‘å®¤ä¿¡æ¯");
          return;
        }
        document.getElementById("badge-questionnaire-modal").classList.remove("active");
        openBadgePreviewModal();
      }

      // ä»é¢„è§ˆè¿”å›ç»§ç»­ç¼–è¾‘é—®å·
      function openBadgeQuestionnaireForEdit() {
        document.getElementById("badge-questionnaire-modal").classList.add("active");
      }

      // ç¡®è®¤ç”Ÿæˆç«‹ç‰Œ
      function confirmGenerateBadge() {
        badgeStatus = "generated";
        badgeGeneratedTimes += 1;
        const statusText = document.getElementById("badge-status-text");
        const previewRow = document.getElementById("badge-preview-row");
        const primaryAction = document.getElementById("badge-primary-action");
        const freeTip = document.getElementById("badge-free-tip");
        if (statusText) statusText.textContent = "å·²ç”Ÿæˆ";
        if (previewRow) previewRow.style.display = "flex";
        if (primaryAction) primaryAction.textContent = "ç¼–è¾‘ç«‹ç‰Œ";
        if (freeTip) {
          freeTip.textContent =
            badgeGeneratedTimes === 1
              ? "å·²ä½¿ç”¨ 1 æ¬¡å…è´¹ç”Ÿæˆæœºä¼šï¼Œåç»­ä¿®æ”¹å°†ä½œä¸ºç«‹ç‰Œä¿¡æ¯è°ƒæ•´ã€‚"
              : "å·²å®Œæˆç«‹ç‰Œåˆ¶ä½œï¼Œå¯ç»§ç»­ç¼–è¾‘ä¿¡æ¯å¹¶é‡æ–°ç”Ÿæˆæ–°ç‰ˆæœ¬ç«‹ç‰Œã€‚";
        }
        document.getElementById("badge-preview-modal").classList.remove("active");
        alert("æ¨¡æ‹Ÿç”Ÿæˆç«‹ç‰Œå¹¶ä¸‹è½½å›¾ç‰‡æ–‡ä»¶");
      }

      // è¿›å…¥é¡¹ç›®ï¼ˆåŒ…å«æ‰§ä¸šèŒƒå›´ä¸åˆä½œåŒ»ç”Ÿè®¤è¯æ ¡éªŒï¼‰
      function enterProject(projectName) {
        const config = projectsConfig[projectName];
        if (!config) {
          alert("æœªæ‰¾åˆ°é¡¹ç›®é…ç½®");
          return;
        }
        currentProject = projectName;
        currentProjectId = config.id;
        pendingProjectName = projectName;

        // æ›´æ–°é¡¹ç›®ä¸»é¡µæ ‡é¢˜
        const titleEl = document.getElementById("project-home-title");
        if (titleEl) {
          titleEl.textContent = projectName + " - æœ€æ–°æ¶ˆæ¯";
        }

        // æœªè®¤è¯åŒ»ç”Ÿï¼šè§†ä¸ºå…¬ç½‘ç”¨æˆ·è¿›å…¥å…¬å¼€å†…å®¹
        if (!isVerified || userType === "public") {
          showPage("project-home");
          return;
        }

        // æ‰§ä¸šèŒƒå›´æ ¡éªŒ
        if (config.requiredScope) {
          const hasScope = doctorScope.specialties.includes(config.requiredScope);
          if (!hasScope) {
            const scopeText = document.getElementById("scope-modal-text");
            if (scopeText) {
              scopeText.innerHTML = `é¡¹ç›®è¦æ±‚æ‰§ä¸šèŒƒå›´ï¼š<strong>${config.requiredScope}</strong><br />æ‚¨çš„æ‰§ä¸šèŒƒå›´ï¼š<strong>${doctorScope.specialties.join(
                "ã€"
              )}</strong><br /><br />æ˜¯å¦ä»ç„¶è¿›å…¥è¯¥é¡¹ç›®ç©ºé—´ï¼Ÿ`;
            }
            document.getElementById("scope-modal").classList.add("active");
            return;
          }
        }

        // åˆä½œåŒ»ç”Ÿè®¤è¯é¡¹ç›®æ ¡éªŒ
        if (config.type === "whitelist") {
          const status = projectWhitelistStatus[config.id] || "none";
          // å…ˆæ ¹æ®çŠ¶æ€åˆ·æ–°ä¸ªäººä¸­å¿ƒé‡Œçš„åˆä½œåŒ»ç”Ÿè®¤è¯å±•ç¤º
          applyWhitelistStatusToUI(status);

          if (status === "approved") {
            showPage("project-home");
          } else {
            const textEl = document.getElementById("whitelist-modal-text");
            if (textEl) {
              textEl.innerHTML =
                status === "pending"
                  ? "æ‚¨åŠ å…¥æœ¬é¡¹ç›®åˆä½œåŒ»ç”Ÿè®¤è¯çš„ç”³è¯·æ­£åœ¨å®¡æ ¸ä¸­ï¼Œç›®å‰ä»…å¯æµè§ˆæ‚£æ•™å’Œèµ„è®¯å†…å®¹ã€‚"
                  : `æ ¹æ®å½“å‰ç™»å½•æ‰‹æœºå·<strong>${currentPhone || ""}</strong>ï¼Œæ‚¨æš‚æœªé€šè¿‡æœ¬é¡¹ç›®çš„åˆä½œåŒ»ç”Ÿè®¤è¯ï¼Œå¯ç”³è¯·åŠ å…¥æˆ–ä»…æµè§ˆå…¬å¼€å†…å®¹ã€‚`;
            }
            document.getElementById("whitelist-modal").classList.add("active");
          }
        } else {
          applyWhitelistStatusToUI("approved");
          showPage("project-home");
        }
      }

      // æ‰§ä¸šèŒƒå›´å¼¹çª—ï¼šç¡®è®¤è¿›å…¥
      function confirmEnterProjectAfterScope() {
        closeModal("scope-modal");
        if (!pendingProjectName) return;
        const config = projectsConfig[pendingProjectName];
        if (!config) return;
        if (config.type === "whitelist") {
          const status = projectWhitelistStatus[config.id] || "none";
          if (status === "approved") {
            applyWhitelistStatusToUI(status);
            showPage("project-home");
          } else {
            document.getElementById("whitelist-modal").classList.add("active");
          }
        } else {
          applyWhitelistStatusToUI("approved");
          showPage("project-home");
        }
      }

      // åˆä½œåŒ»ç”Ÿè®¤è¯å¼¹çª—ï¼šä»…æµè§ˆ
      function handleWhitelistCancel() {
        closeModal("whitelist-modal");
        applyWhitelistStatusToUI("none");
        showPage("project-home");
      }

      // åˆä½œåŒ»ç”Ÿè®¤è¯å¼¹çª—ï¼šç”³è¯·åŠ å…¥
      function handleWhitelistApply() {
        closeModal("whitelist-modal");
        if (!currentProjectId) return;
        projectWhitelistStatus[currentProjectId] = "pending";
        applyWhitelistStatusToUI("pending");
        alert("å·²æäº¤åŠ å…¥é¡¹ç›®åˆä½œåŒ»ç”Ÿè®¤è¯çš„ç”³è¯·ï¼Œå®¡æ ¸é€šè¿‡åå°†è‡ªåŠ¨è·å¾—å®Œæ•´é¡¹ç›®æƒé™ã€‚");
        showPage("project-home");
      }

      // æ›´æ–°ç™½åå• UI çŠ¶æ€
      function applyWhitelistStatusToUI(status) {
        const whitelistBadge = document.getElementById("whitelist-badge");
        const whitelistAction = document.getElementById("whitelist-apply-action");
        if (!whitelistBadge) return;
        if (status === "approved") {
          whitelistBadge.textContent = "å·²é€šè¿‡åˆä½œåŒ»ç”Ÿè®¤è¯";
          whitelistBadge.className = "status-badge approved";
          if (whitelistAction) whitelistAction.style.display = "none";
        } else if (status === "pending") {
          whitelistBadge.textContent = "è®¤è¯ç”³è¯·ä¸­";
          whitelistBadge.className = "status-badge pending";
          if (whitelistAction) whitelistAction.style.display = "none";
        } else if (status === "rejected") {
          whitelistBadge.textContent = "åˆä½œåŒ»ç”Ÿè®¤è¯æœªé€šè¿‡";
          whitelistBadge.className = "status-badge rejected";
          if (whitelistAction) whitelistAction.style.display = "block";
        } else {
          whitelistBadge.textContent = "å°šæœªå‘èµ·åˆä½œåŒ»ç”Ÿè®¤è¯";
          whitelistBadge.className = "status-badge";
          if (whitelistAction) whitelistAction.style.display = "block";
        }
      }

      // ä¸ªäººä¸­å¿ƒä¸­ç‚¹å‡»â€œå»ç”³è¯·åŠ å…¥â€
      function handleWhitelistApplyFromProfile() {
        if (!currentProjectId) {
          alert("è¯·å…ˆåœ¨é¦–é¡µé€‰æ‹©ä¸€ä¸ªé¡¹ç›®ï¼Œå†ç”³è¯·åŠ å…¥è¯¥é¡¹ç›®çš„åˆä½œåŒ»ç”Ÿè®¤è¯ã€‚");
          return;
        }
        projectWhitelistStatus[currentProjectId] = "pending";
        applyWhitelistStatusToUI("pending");
        alert("å·²æäº¤å½“å‰é¡¹ç›®åˆä½œåŒ»ç”Ÿè®¤è¯çš„ç”³è¯·ï¼Œè¯·ç­‰å¾…å®¡æ ¸ã€‚");
      }

      // è§¦å‘ä¸Šä¼ ç—…ä¾‹ï¼ˆæ£€æŸ¥èº«ä»½éªŒè¯ï¼‰
      function triggerUpload() {
        if (!isVerified) {
          document.getElementById("verify-modal").classList.add("active");
        } else {
          alert("è¿›å…¥ç—…ä¾‹ä¸Šä¼ é¡µé¢");
        }
      }

      // æ–‡ä»¶ä¸Šä¼ è§¦å‘
      function triggerFileUpload(type) {
        const fileInput = document.getElementById(type + "-file");
        if (!fileInput) return;
        fileInput.click();
        fileInput.onchange = function (e) {
          if (e.target.files.length > 0) {
            const fileName = e.target.files[0].name;
            const uploadArea = e.target.previousElementSibling;
            if (!uploadArea) return;
            const textEl = uploadArea.querySelector(".upload-text");
            if (textEl) textEl.textContent = "å·²é€‰æ‹©: " + fileName;
            uploadArea.style.borderColor = "#10b981";
            uploadArea.style.background = "#d1fae5";
          }
        };
      }

      // æ˜¾ç¤ºèº«ä»½éªŒè¯å¼¹çª—
      function showVerifyModal() {
        document.getElementById("verify-modal").classList.add("active");
      }

      // æäº¤èº«ä»½éªŒè¯ï¼ˆåŒ…å«æ‰§ä¸šè¯ä»¶ AI å®Œæ•´æ€§å®¡æ ¸ï¼‰
      function submitVerification() {
        const certificate = document.getElementById("certificate-file").files.length;
        const license = document.getElementById("license-file").files.length;

        if (!certificate || !license) {
          alert("è¯·ä¸Šä¼ åŒ»å¸ˆèµ„æ ¼è¯ä¹¦å’ŒåŒ»å¸ˆæ‰§ä¸šè¯ä¹¦çš„æ¸…æ™°ç…§ç‰‡ï¼Œä»¥ä¾¿è¿›è¡Œ AI å®¡æ ¸ã€‚");
          return;
        }

        alert("ç³»ç»Ÿæ­£åœ¨é€šè¿‡ AI å¯¹æ‚¨ä¸Šä¼ çš„æ‰§ä¸šè¯ä»¶è¿›è¡Œå®Œæ•´æ€§å®¡æ ¸ï¼Œè¯·ç¨å€™...");

        // åŸå‹ä¸­ä½¿ç”¨æ¨¡æ‹Ÿç»“æœï¼Œå®é™…æ¥å…¥æ—¶åº”ç”±åå°è¿”å› AI å®¡æ ¸ç»“è®º
        setTimeout(() => {
          const aiPass = mockLicenseAuditResult === "success"; // successï¼šå§‹ç»ˆé€šè¿‡ï¼›failï¼šå§‹ç»ˆä¸é€šè¿‡

          if (!aiPass) {
            closeModal("verify-modal");
            showLicenseAuditFail(
              "ç³»ç»Ÿæœªèƒ½åœ¨æ‚¨ä¸Šä¼ çš„å›¾ç‰‡ä¸­è¯†åˆ«åˆ°å®Œæ•´çš„è¯ä»¶ä¿¡æ¯ï¼ˆå¦‚è¯ä»¶ç¼–å·ã€å§“åæˆ–ç›–ç« åŒºåŸŸï¼‰ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æ‹æ‘„äº†è¯ä»¶æ­£æœ¬ã€ç”»é¢æ¸…æ™°ä¸”æœªé®æŒ¡å…³é”®ä¿¡æ¯ã€‚"
            );
            return;
          }

          isVerified = true;
          userType = "doctorVerified";
          const verifyBadge = document.getElementById("verify-badge");
          if (verifyBadge) {
            verifyBadge.textContent = "å·²è®¤è¯";
            verifyBadge.className = "status-badge approved";
          }
          const userTypeBadge = document.getElementById("user-type-badge");
          if (userTypeBadge) {
            userTypeBadge.textContent = "è®¤è¯åŒ»ç”Ÿ";
            userTypeBadge.className = "status-badge approved";
          }
          closeModal("verify-modal");
          alert("æ‚¨çš„æ‰§ä¸šè¯ä»¶å·²é€šè¿‡ AI å®¡æ ¸ï¼Œèº«ä»½å·²å‡çº§ä¸ºâ€œè®¤è¯åŒ»ç”Ÿâ€ï¼Œç°åœ¨å¯ä»¥è¿›å…¥åŒ»ç”Ÿå·¥ä½œå°å’Œé¡¹ç›®æ ¸å¿ƒåŠŸèƒ½ã€‚");
        }, 1500);
      }

      // æ˜¾ç¤ºæ‰§ä¸šè¯ä»¶ AI å®¡æ ¸ä¸é€šè¿‡æç¤º
      function showLicenseAuditFail(reason) {
        const reasonEl = document.getElementById("license-audit-fail-reason");
        if (reasonEl && reason) {
          reasonEl.textContent = reason;
        }
        const modal = document.getElementById("license-audit-fail-modal");
        if (modal) {
          modal.classList.add("active");
        }
      }

      // é‡ç½®è¯ä»¶ä¸Šä¼ åŒºæ ·å¼ä¸æ–‡ä»¶ï¼Œå¹¶é‡æ–°æ‰“å¼€èº«ä»½è®¤è¯å¼¹çª—
      function handleLicenseReupload() {
        closeModal("license-audit-fail-modal");
        const ids = ["certificate-file", "license-file"];
        ids.forEach((id) => {
          const input = document.getElementById(id);
          if (!input) return;
          input.value = "";
          const uploadArea = input.previousElementSibling;
          if (uploadArea) {
            const textEl = uploadArea.querySelector(".upload-text");
            if (textEl) textEl.textContent = "ç‚¹å‡»ä¸Šä¼ ";
            uploadArea.style.borderColor = "#d1d5db";
            uploadArea.style.background = "#f9fafb";
          }
        });
        showVerifyModal();
      }

      // å…³é—­å¼¹çª—
      function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (!modal) return;
        modal.classList.remove("active");
      }

      // æ‰“å¼€å¿˜è®°å¯†ç å¼¹çª—
      function openForgotPassword() {
        document.getElementById("forgot-modal").classList.add("active");
      }

      // å‘é€å¿˜è®°å¯†ç éªŒè¯ç 
      function sendForgotCode() {
        const phone = document.getElementById("forgot-phone").value;
        if (!phone) {
          alert("è¯·å…ˆè¾“å…¥æ‰‹æœºå·");
          return;
        }
        if (!/^1[3-9]\d{9}$/.test(phone)) {
          alert("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·");
          return;
        }
        alert("éªŒè¯ç å·²å‘é€åˆ° " + phone);
      }

      // æäº¤ä¿®æ”¹å¯†ç ï¼ˆå¿˜è®°å¯†ç ï¼‰
      function submitForgotPassword() {
        const phone = document.getElementById("forgot-phone").value;
        const code = document.getElementById("forgot-code").value;
        const password = document.getElementById("forgot-password").value;
        const passwordConfirm = document.getElementById("forgot-password-confirm").value;

        if (!phone || !code || !password || !passwordConfirm) {
          alert("è¯·å¡«å†™å®Œæ•´ä¿¡æ¯");
          return;
        }
        if (!/^1[3-9]\d{9}$/.test(phone)) {
          alert("è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·");
          return;
        }
        if (password.length < 6 || password.length > 20) {
          alert("å¯†ç é•¿åº¦åº”ä¸º6-20ä½");
          return;
        }
        if (password !== passwordConfirm) {
          alert("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´");
          return;
        }
        alert("å¯†ç ä¿®æ”¹æˆåŠŸï¼Œè¯·ä½¿ç”¨æ–°å¯†ç ç™»å½•");
        closeModal("forgot-modal");
      }

      // æ›´æ–°æ¿€åŠ±è¿›åº¦æ–‡æ¡ˆ
      function updateRewardProgress() {
        const progressText = document.getElementById("reward-progress-text");
        if (!progressText) return;
        const remaining = Math.max(requiredQualifiedCases - completedQualifiedCases, 0);
        if (remaining === 0) {
          progressText.textContent = `å·²å®Œæˆ ${completedQualifiedCases} ä¾‹åˆæ ¼ç—…æ¡ˆä¸Šä¼ ï¼Œå·²æ»¡è¶³å¥–åŠ±æ¡ä»¶ï¼Œå¯ä»¥æäº¤é“¶è¡Œå¡ä¿¡æ¯é¢†å–å¥–åŠ±ã€‚`;
        } else {
          progressText.textContent = `å·²å®Œæˆ ${completedQualifiedCases} ä¾‹åˆæ ¼ç—…æ¡ˆä¸Šä¼ ï¼Œè¿˜éœ€å®Œæˆ ${remaining} ä¾‹åˆæ ¼ç—…æ¡ˆä¸Šä¼ å³å¯è·å¾—å¥–åŠ±ã€‚`;
        }
      }

      // ç»˜åˆ¶å›¾è¡¨ï¼ˆç®€åŒ–ï¼Œå ä½ï¼‰
      function drawCharts() {}

      // æ˜¾ç¤ºæ¿€åŠ±ç”³é¢†é¡µ
      function showRewardForm() {
        updateRewardProgress();
        showPage("settings");
        const wrapper = document.getElementById("reward-section-wrapper");
        const toggleText = document.getElementById("reward-toggle-text");
        if (wrapper && wrapper.style.display === "none") {
          wrapper.style.display = "block";
          if (toggleText) toggleText.textContent = "ç‚¹å‡»æ”¶èµ·";
        }
        const rewardCard = document.getElementById("reward-section-card");
        if (rewardCard) {
          rewardCard.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }

      // æ¿€åŠ±ç”³é¢†æŠ˜å /å±•å¼€
      function toggleRewardSection() {
        const wrapper = document.getElementById("reward-section-wrapper");
        const toggleText = document.getElementById("reward-toggle-text");
        if (!wrapper) return;
        const isHidden = wrapper.style.display === "none" || !wrapper.style.display;
        wrapper.style.display = isHidden ? "block" : "none";
        if (toggleText) {
          toggleText.textContent = isHidden ? "ç‚¹å‡»æ”¶èµ·" : "ç‚¹å‡»å±•å¼€";
        }
        if (isHidden) {
          wrapper.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      }

      // æäº¤é“¶è¡Œå¡ä¿¡æ¯
      function handleBankSubmit(e) {
        e.preventDefault();
        const phone = document.getElementById("bank-phone").value;
        const code = document.getElementById("bank-code").value;
        if (!phone || !code) {
          alert("è¯·å¡«å†™é¢„ç•™æ‰‹æœºå·å’ŒéªŒè¯ç ");
          return;
        }
        // åŸå‹ä¸­æ¨¡æ‹Ÿé“¶è¡Œå¡ä¸å®åä¿¡æ¯ã€æ‰§ä¸šè¯ä»¶ä¿¡æ¯çš„ä¸€è‡´æ€§æ ¡éªŒ
        const bankCheckPass = mockBankCheckResult === "success"; // successï¼šæ ¡éªŒé€šè¿‡ï¼›failï¼šæ ¡éªŒä¸é€šè¿‡
        if (!bankCheckPass) {
          alert("é“¶è¡Œå¡ä¿¡æ¯ä¸æ‚¨çš„å®åè®¤è¯ä¿¡æ¯ä¸ä¸€è‡´ï¼Œè¯·æ ¸å¯¹å§“åã€èº«ä»½è¯å·ç åŠé“¶è¡Œå¡ä¿¡æ¯åé‡æ–°æäº¤ã€‚");
          return;
        }

        alert("é“¶è¡Œå¡ä¿¡æ¯å·²æäº¤ï¼Œç³»ç»Ÿå·²å®Œæˆå§“åã€èº«ä»½è¯ä¸åŒ»ç”Ÿæ‰§ä¸šèµ„è´¨ä¹‹é—´çš„ä¸€è‡´æ€§æ ¡éªŒï¼Œç­‰å¾…å®¡æ ¸æ‰“æ¬¾ã€‚");
        showPage("dashboard");
      }

      // å‘é€é“¶è¡Œå¡éªŒè¯ç 
      function sendBankCode() {
        const phone = document.getElementById("bank-phone").value;
        if (!phone) {
          alert("è¯·å…ˆå¡«å†™é¢„ç•™æ‰‹æœºå·");
          return;
        }
        alert("éªŒè¯ç å·²å‘é€è‡³é¢„ç•™æ‰‹æœºå·");
      }

      // ç»‘å®šå¾®ä¿¡å·å¼¹çª—
      function openWechatBind() {
        const input = document.getElementById("wechat-bind-input");
        const current = document.getElementById("wechat-bind-value");
        if (input && current && current.textContent !== "æœªç»‘å®š") {
          input.value = current.textContent;
        }
        document.getElementById("wechat-bind-modal").classList.add("active");
      }

      function submitWechatBind() {
        const input = document.getElementById("wechat-bind-input");
        if (!input) return;
        const wechatId = input.value.trim();
        if (!wechatId) {
          alert("è¯·è¾“å…¥å¾®ä¿¡å·");
          return;
        }
        const valueEl = document.getElementById("wechat-bind-value");
        if (valueEl) {
          valueEl.textContent = wechatId;
        }
        closeModal("wechat-bind-modal");
        alert("å¾®ä¿¡å·ç»‘å®šæˆåŠŸ");
      }

      // æ‰“å¼€ä¸“å±äºŒç»´ç å¼¹çª—
      function openQrModal() {
        document.getElementById("qr-modal").classList.add("active");
      }

      // æ‰“å¼€ä¿®æ”¹å¯†ç é¡µé¢
      function openChangePasswordPage() {
        showPage("change-password");
      }

      // æäº¤ä¿®æ”¹å¯†ç 
      function submitChangePassword() {
        const currentPwd = document.getElementById("change-current-password").value;
        const newPwd = document.getElementById("change-new-password").value;
        const newPwdConfirm = document.getElementById("change-new-password-confirm").value;
        if (!currentPwd || !newPwd || !newPwdConfirm) {
          alert("è¯·å®Œæ•´å¡«å†™å½“å‰å¯†ç å’Œæ–°å¯†ç ");
          return;
        }
        if (newPwd.length < 6 || newPwd.length > 20) {
          alert("æ–°å¯†ç é•¿åº¦åº”ä¸º 6-20 ä½");
          return;
        }
        if (newPwd !== newPwdConfirm) {
          alert("ä¸¤æ¬¡è¾“å…¥çš„æ–°å¯†ç ä¸ä¸€è‡´");
          return;
        }
        alert("å¯†ç ä¿®æ”¹æˆåŠŸï¼Œä¸‹æ¬¡ç™»å½•è¯·ä½¿ç”¨æ–°å¯†ç ");
        showPage("settings");
      }

      // å¼€å‘æ¨¡å¼ï¼šåˆ‡æ¢é¡µé¢ï¼ˆç»•è¿‡èº«ä»½éªŒè¯ï¼‰
      function devShowPage(pageId) {
        if (pageId === "dashboard" || pageId === "cases" || pageId === "conversations") {
          isVerified = true;
          userType = "doctorVerified";
        }
        if (pageId === "project-home") {
          currentProject = "å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ";
          currentProjectId = "scua";
        }
        showPage(pageId);
        document.getElementById("dev-nav").classList.remove("active");
      }

      // å¼€å‘æ¨¡å¼ï¼šè®¾ç½®æ‰§ä¸šè¯ä»¶ AI å®¡æ ¸ç»“æœ
      function setMockLicenseAudit(mode) {
        if (mode !== "success" && mode !== "fail") return;
        mockLicenseAuditResult = mode;
        alert(`å·²åˆ‡æ¢åŒ»ç”Ÿè¯ä»¶ AI å®¡æ ¸ç»“æœä¸ºï¼š${mode === "success" ? "æˆåŠŸ" : "å¤±è´¥"}`);
      }

      // å¼€å‘æ¨¡å¼ï¼šè®¾ç½®é“¶è¡Œå¡æ ¡éªŒç»“æœ
      function setMockBankCheck(mode) {
        if (mode !== "success" && mode !== "fail") return;
        mockBankCheckResult = mode;
        alert(`å·²åˆ‡æ¢é“¶è¡Œå¡ä¿¡æ¯æ ¡éªŒç»“æœä¸ºï¼š${mode === "success" ? "æˆåŠŸ" : "å¤±è´¥"}`);
      }

      // åˆ‡æ¢å¼€å‘å¯¼èˆªæ˜¾ç¤º
      function toggleDevNav() {
        const nav = document.getElementById("dev-nav");
        nav.classList.toggle("active");
      }

      // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
      window.addEventListener("load", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const targetPage = urlParams.get("page");
        const projectIdParam = urlParams.get("projectId");

        // å¦‚æœæ˜¯é¡¹ç›®äºŒç»´ç å…¥å£ï¼Œä¿®æ”¹ç™»å½•æç¤º
        if (projectIdParam) {
          const projectEntry = Object.entries(projectsConfig).find(
            ([, cfg]) => cfg.id === projectIdParam
          );
          if (projectEntry) {
            const [projectName] = projectEntry;
            const tipEl = document.getElementById("login-tip-text");
            const heroSub = document.getElementById("login-hero-subtitle-text");
            if (tipEl) {
              tipEl.textContent = `æ‚¨æ­£å°è¯•è¿›å…¥é¡¹ç›®ã€${projectName}ã€‘ç©ºé—´ï¼Œè¯·å…ˆç™»å½•æˆ–æ³¨å†Œã€‚`;
            }
            if (heroSub) {
              heroSub.textContent = `æ¬¢è¿è¿›å…¥é¡¹ç›®ã€${projectName}ã€‘ä¸“å±æ…§è¯Šé—´å…¥å£`;
            }
          }
        }

        if (targetPage) {
          if (targetPage === "dashboard" || targetPage === "cases" || targetPage === "conversations") {
            isVerified = true;
            userType = "doctorVerified";
          }
          if (targetPage === "project-home") {
            currentProject = "å—æ–¹è¨éº»ç–¹ä¸“ç—…è”ç›Ÿ";
            currentProjectId = "scua";
          }
          showPage(targetPage);
        } else {
          showPage("login");
        }

        // åˆå§‹åŒ–åŒ»ç”ŸèŒƒå›´å±•ç¤º
        const scopeText = document.getElementById("doctor-scope-text");
        if (scopeText) {
          scopeText.textContent = doctorScope.specialties.join("ã€");
        }

        updateRewardProgress();
      });
    </script>
  </body>
</html>


